import{r as h,a as ar,R as he,u as kt,L as K,N as qt,b as nr,d as de,B as lr,e as or,f as Z}from"./react-vendor-DRUKdUeB.js";import{R as $e,L as ir,C as ot,X as it,Y as ct,T as qe,a as dt,b as cr,P as dr,c as mr,d as ur,B as Bt,e as Ht}from"./chart-vendor-iQTSKMc1.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function r(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(n){if(n.ep)return;n.ep=!0;const o=r(n);fetch(n.href,o)}})();var xs={exports:{}},Xe={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xr=h,hr=Symbol.for("react.element"),pr=Symbol.for("react.fragment"),gr=Object.prototype.hasOwnProperty,fr=xr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,br={key:!0,ref:!0,__self:!0,__source:!0};function hs(t,s,r){var a,n={},o=null,l=null;r!==void 0&&(o=""+r),s.key!==void 0&&(o=""+s.key),s.ref!==void 0&&(l=s.ref);for(a in s)gr.call(s,a)&&!br.hasOwnProperty(a)&&(n[a]=s[a]);if(t&&t.defaultProps)for(a in s=t.defaultProps,s)n[a]===void 0&&(n[a]=s[a]);return{$$typeof:hr,type:t,key:o,ref:l,props:n,_owner:fr.current}}Xe.Fragment=pr;Xe.jsx=hs;Xe.jsxs=hs;xs.exports=Xe;var e=xs.exports,gt={},zt=ar;gt.createRoot=zt.createRoot,gt.hydrateRoot=zt.hydrateRoot;let yr={data:""},jr=t=>{if(typeof window=="object"){let s=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return s.nonce=window.__nonce__,s.parentNode||(t||document.head).appendChild(s),s.firstChild}return t||yr},wr=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Nr=/\/\*[^]*?\*\/|  +/g,Vt=/\n+/g,xe=(t,s)=>{let r="",a="",n="";for(let o in t){let l=t[o];o[0]=="@"?o[1]=="i"?r=o+" "+l+";":a+=o[1]=="f"?xe(l,o):o+"{"+xe(l,o[1]=="k"?"":s)+"}":typeof l=="object"?a+=xe(l,s?s.replace(/([^,])+/g,i=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,i):i?i+" "+c:c)):o):l!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),n+=xe.p?xe.p(o,l):o+":"+l+";")}return r+(s&&n?s+"{"+n+"}":n)+a},ce={},ps=t=>{if(typeof t=="object"){let s="";for(let r in t)s+=r+ps(t[r]);return s}return t},vr=(t,s,r,a,n)=>{let o=ps(t),l=ce[o]||(ce[o]=(c=>{let m=0,d=11;for(;m<c.length;)d=101*d+c.charCodeAt(m++)>>>0;return"go"+d})(o));if(!ce[l]){let c=o!==t?t:(m=>{let d,u,b=[{}];for(;d=wr.exec(m.replace(Nr,""));)d[4]?b.shift():d[3]?(u=d[3].replace(Vt," ").trim(),b.unshift(b[0][u]=b[0][u]||{})):b[0][d[1]]=d[2].replace(Vt," ").trim();return b[0]})(t);ce[l]=xe(n?{["@keyframes "+l]:c}:c,r?"":"."+l)}let i=r&&ce.g?ce.g:null;return r&&(ce.g=ce[l]),((c,m,d,u)=>{u?m.data=m.data.replace(u,c):m.data.indexOf(c)===-1&&(m.data=d?c+m.data:m.data+c)})(ce[l],s,a,i),l},kr=(t,s,r)=>t.reduce((a,n,o)=>{let l=s[o];if(l&&l.call){let i=l(r),c=i&&i.props&&i.props.className||/^go/.test(i)&&i;l=c?"."+c:i&&typeof i=="object"?i.props?"":xe(i,""):i===!1?"":i}return a+n+(l??"")},"");function Ze(t){let s=this||{},r=t.call?t(s.p):t;return vr(r.unshift?r.raw?kr(r,[].slice.call(arguments,1),s.p):r.reduce((a,n)=>Object.assign(a,n&&n.call?n(s.p):n),{}):r,jr(s.target),s.g,s.o,s.k)}let gs,ft,bt;Ze.bind({g:1});let me=Ze.bind({k:1});function Sr(t,s,r,a){xe.p=s,gs=t,ft=r,bt=a}function be(t,s){let r=this||{};return function(){let a=arguments;function n(o,l){let i=Object.assign({},o),c=i.className||n.className;r.p=Object.assign({theme:ft&&ft()},i),r.o=/ *go\d+/.test(c),i.className=Ze.apply(r,a)+(c?" "+c:"");let m=t;return t[0]&&(m=i.as||t,delete i.as),bt&&m[0]&&bt(i),gs(m,i)}return n}}var Cr=t=>typeof t=="function",Ge=(t,s)=>Cr(t)?t(s):t,Er=(()=>{let t=0;return()=>(++t).toString()})(),fs=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let s=matchMedia("(prefers-reduced-motion: reduce)");t=!s||s.matches}return t}})(),Rr=20,St="default",bs=(t,s)=>{let{toastLimit:r}=t.settings;switch(s.type){case 0:return{...t,toasts:[s.toast,...t.toasts].slice(0,r)};case 1:return{...t,toasts:t.toasts.map(l=>l.id===s.toast.id?{...l,...s.toast}:l)};case 2:let{toast:a}=s;return bs(t,{type:t.toasts.find(l=>l.id===a.id)?1:0,toast:a});case 3:let{toastId:n}=s;return{...t,toasts:t.toasts.map(l=>l.id===n||n===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return s.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(l=>l.id!==s.toastId)};case 5:return{...t,pausedAt:s.time};case 6:let o=s.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+o}))}}},ze=[],ys={toasts:[],pausedAt:void 0,settings:{toastLimit:Rr}},oe={},js=(t,s=St)=>{oe[s]=bs(oe[s]||ys,t),ze.forEach(([r,a])=>{r===s&&a(oe[s])})},ws=t=>Object.keys(oe).forEach(s=>js(t,s)),Ar=t=>Object.keys(oe).find(s=>oe[s].toasts.some(r=>r.id===t)),Qe=(t=St)=>s=>{js(s,t)},Mr={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Or=(t={},s=St)=>{let[r,a]=h.useState(oe[s]||ys),n=h.useRef(oe[s]);h.useEffect(()=>(n.current!==oe[s]&&a(oe[s]),ze.push([s,a]),()=>{let l=ze.findIndex(([i])=>i===s);l>-1&&ze.splice(l,1)}),[s]);let o=r.toasts.map(l=>{var i,c,m;return{...t,...t[l.type],...l,removeDelay:l.removeDelay||((i=t[l.type])==null?void 0:i.removeDelay)||(t==null?void 0:t.removeDelay),duration:l.duration||((c=t[l.type])==null?void 0:c.duration)||(t==null?void 0:t.duration)||Mr[l.type],style:{...t.style,...(m=t[l.type])==null?void 0:m.style,...l.style}}});return{...r,toasts:o}},Tr=(t,s="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:s,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||Er()}),Le=t=>(s,r)=>{let a=Tr(s,t,r);return Qe(a.toasterId||Ar(a.id))({type:2,toast:a}),a.id},V=(t,s)=>Le("blank")(t,s);V.error=Le("error");V.success=Le("success");V.loading=Le("loading");V.custom=Le("custom");V.dismiss=(t,s)=>{let r={type:3,toastId:t};s?Qe(s)(r):ws(r)};V.dismissAll=t=>V.dismiss(void 0,t);V.remove=(t,s)=>{let r={type:4,toastId:t};s?Qe(s)(r):ws(r)};V.removeAll=t=>V.remove(void 0,t);V.promise=(t,s,r)=>{let a=V.loading(s.loading,{...r,...r==null?void 0:r.loading});return typeof t=="function"&&(t=t()),t.then(n=>{let o=s.success?Ge(s.success,n):void 0;return o?V.success(o,{id:a,...r,...r==null?void 0:r.success}):V.dismiss(a),n}).catch(n=>{let o=s.error?Ge(s.error,n):void 0;o?V.error(o,{id:a,...r,...r==null?void 0:r.error}):V.dismiss(a)}),t};var Lr=1e3,Pr=(t,s="default")=>{let{toasts:r,pausedAt:a}=Or(t,s),n=h.useRef(new Map).current,o=h.useCallback((u,b=Lr)=>{if(n.has(u))return;let y=setTimeout(()=>{n.delete(u),l({type:4,toastId:u})},b);n.set(u,y)},[]);h.useEffect(()=>{if(a)return;let u=Date.now(),b=r.map(y=>{if(y.duration===1/0)return;let p=(y.duration||0)+y.pauseDuration-(u-y.createdAt);if(p<0){y.visible&&V.dismiss(y.id);return}return setTimeout(()=>V.dismiss(y.id,s),p)});return()=>{b.forEach(y=>y&&clearTimeout(y))}},[r,a,s]);let l=h.useCallback(Qe(s),[s]),i=h.useCallback(()=>{l({type:5,time:Date.now()})},[l]),c=h.useCallback((u,b)=>{l({type:1,toast:{id:u,height:b}})},[l]),m=h.useCallback(()=>{a&&l({type:6,time:Date.now()})},[a,l]),d=h.useCallback((u,b)=>{let{reverseOrder:y=!1,gutter:p=8,defaultPosition:g}=b||{},w=r.filter(f=>(f.position||g)===(u.position||g)&&f.height),C=w.findIndex(f=>f.id===u.id),j=w.filter((f,S)=>S<C&&f.visible).length;return w.filter(f=>f.visible).slice(...y?[j+1]:[0,j]).reduce((f,S)=>f+(S.height||0)+p,0)},[r]);return h.useEffect(()=>{r.forEach(u=>{if(u.dismissed)o(u.id,u.removeDelay);else{let b=n.get(u.id);b&&(clearTimeout(b),n.delete(u.id))}})},[r,o]),{toasts:r,handlers:{updateHeight:c,startPause:i,endPause:m,calculateOffset:d}}},Dr=me`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Fr=me`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,_r=me`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Ur=be("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Dr} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Fr} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${_r} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Ir=me`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,$r=be("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${Ir} 1s linear infinite;
`,qr=me`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Br=me`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Hr=be("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${qr} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Br} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,zr=be("div")`
  position: absolute;
`,Vr=be("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Jr=me`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Wr=be("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Jr} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Kr=({toast:t})=>{let{icon:s,type:r,iconTheme:a}=t;return s!==void 0?typeof s=="string"?h.createElement(Wr,null,s):s:r==="blank"?null:h.createElement(Vr,null,h.createElement($r,{...a}),r!=="loading"&&h.createElement(zr,null,r==="error"?h.createElement(Ur,{...a}):h.createElement(Hr,{...a})))},Gr=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Yr=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,Xr="0%{opacity:0;} 100%{opacity:1;}",Zr="0%{opacity:1;} 100%{opacity:0;}",Qr=be("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,ea=be("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,ta=(t,s)=>{let r=t.includes("top")?1:-1,[a,n]=fs()?[Xr,Zr]:[Gr(r),Yr(r)];return{animation:s?`${me(a)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${me(n)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},sa=h.memo(({toast:t,position:s,style:r,children:a})=>{let n=t.height?ta(t.position||s||"top-center",t.visible):{opacity:0},o=h.createElement(Kr,{toast:t}),l=h.createElement(ea,{...t.ariaProps},Ge(t.message,t));return h.createElement(Qr,{className:t.className,style:{...n,...r,...t.style}},typeof a=="function"?a({icon:o,message:l}):h.createElement(h.Fragment,null,o,l))});Sr(h.createElement);var ra=({id:t,className:s,style:r,onHeightUpdate:a,children:n})=>{let o=h.useCallback(l=>{if(l){let i=()=>{let c=l.getBoundingClientRect().height;a(t,c)};i(),new MutationObserver(i).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[t,a]);return h.createElement("div",{ref:o,className:s,style:r},n)},aa=(t,s)=>{let r=t.includes("top"),a=r?{top:0}:{bottom:0},n=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:fs()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${s*(r?1:-1)}px)`,...a,...n}},na=Ze`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Be=16,la=({reverseOrder:t,position:s="top-center",toastOptions:r,gutter:a,children:n,toasterId:o,containerStyle:l,containerClassName:i})=>{let{toasts:c,handlers:m}=Pr(r,o);return h.createElement("div",{"data-rht-toaster":o||"",style:{position:"fixed",zIndex:9999,top:Be,left:Be,right:Be,bottom:Be,pointerEvents:"none",...l},className:i,onMouseEnter:m.startPause,onMouseLeave:m.endPause},c.map(d=>{let u=d.position||s,b=m.calculateOffset(d,{reverseOrder:t,gutter:a,defaultPosition:s}),y=aa(u,b);return h.createElement(ra,{id:d.id,key:d.id,onHeightUpdate:m.updateHeight,className:d.visible?na:"",style:y},d.type==="custom"?Ge(d.message,d):n?n(d):h.createElement(sa,{toast:d,position:u}))}))},N=V;function Ns(t,s){return function(){return t.apply(s,arguments)}}const{toString:oa}=Object.prototype,{getPrototypeOf:Ct}=Object,{iterator:et,toStringTag:vs}=Symbol,tt=(t=>s=>{const r=oa.call(s);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ae=t=>(t=t.toLowerCase(),s=>tt(s)===t),st=t=>s=>typeof s===t,{isArray:Ae}=Array,Re=st("undefined");function Pe(t){return t!==null&&!Re(t)&&t.constructor!==null&&!Re(t.constructor)&&ee(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const ks=ae("ArrayBuffer");function ia(t){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(t):s=t&&t.buffer&&ks(t.buffer),s}const ca=st("string"),ee=st("function"),Ss=st("number"),De=t=>t!==null&&typeof t=="object",da=t=>t===!0||t===!1,Ve=t=>{if(tt(t)!=="object")return!1;const s=Ct(t);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(vs in t)&&!(et in t)},ma=t=>{if(!De(t)||Pe(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},ua=ae("Date"),xa=ae("File"),ha=ae("Blob"),pa=ae("FileList"),ga=t=>De(t)&&ee(t.pipe),fa=t=>{let s;return t&&(typeof FormData=="function"&&t instanceof FormData||ee(t.append)&&((s=tt(t))==="formdata"||s==="object"&&ee(t.toString)&&t.toString()==="[object FormData]"))},ba=ae("URLSearchParams"),[ya,ja,wa,Na]=["ReadableStream","Request","Response","Headers"].map(ae),va=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Fe(t,s,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let a,n;if(typeof t!="object"&&(t=[t]),Ae(t))for(a=0,n=t.length;a<n;a++)s.call(null,t[a],a,t);else{if(Pe(t))return;const o=r?Object.getOwnPropertyNames(t):Object.keys(t),l=o.length;let i;for(a=0;a<l;a++)i=o[a],s.call(null,t[i],i,t)}}function Cs(t,s){if(Pe(t))return null;s=s.toLowerCase();const r=Object.keys(t);let a=r.length,n;for(;a-- >0;)if(n=r[a],s===n.toLowerCase())return n;return null}const ye=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Es=t=>!Re(t)&&t!==ye;function yt(){const{caseless:t,skipUndefined:s}=Es(this)&&this||{},r={},a=(n,o)=>{const l=t&&Cs(r,o)||o;Ve(r[l])&&Ve(n)?r[l]=yt(r[l],n):Ve(n)?r[l]=yt({},n):Ae(n)?r[l]=n.slice():(!s||!Re(n))&&(r[l]=n)};for(let n=0,o=arguments.length;n<o;n++)arguments[n]&&Fe(arguments[n],a);return r}const ka=(t,s,r,{allOwnKeys:a}={})=>(Fe(s,(n,o)=>{r&&ee(n)?t[o]=Ns(n,r):t[o]=n},{allOwnKeys:a}),t),Sa=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Ca=(t,s,r,a)=>{t.prototype=Object.create(s.prototype,a),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:s.prototype}),r&&Object.assign(t.prototype,r)},Ea=(t,s,r,a)=>{let n,o,l;const i={};if(s=s||{},t==null)return s;do{for(n=Object.getOwnPropertyNames(t),o=n.length;o-- >0;)l=n[o],(!a||a(l,t,s))&&!i[l]&&(s[l]=t[l],i[l]=!0);t=r!==!1&&Ct(t)}while(t&&(!r||r(t,s))&&t!==Object.prototype);return s},Ra=(t,s,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=s.length;const a=t.indexOf(s,r);return a!==-1&&a===r},Aa=t=>{if(!t)return null;if(Ae(t))return t;let s=t.length;if(!Ss(s))return null;const r=new Array(s);for(;s-- >0;)r[s]=t[s];return r},Ma=(t=>s=>t&&s instanceof t)(typeof Uint8Array<"u"&&Ct(Uint8Array)),Oa=(t,s)=>{const a=(t&&t[et]).call(t);let n;for(;(n=a.next())&&!n.done;){const o=n.value;s.call(t,o[0],o[1])}},Ta=(t,s)=>{let r;const a=[];for(;(r=t.exec(s))!==null;)a.push(r);return a},La=ae("HTMLFormElement"),Pa=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,a,n){return a.toUpperCase()+n}),Jt=(({hasOwnProperty:t})=>(s,r)=>t.call(s,r))(Object.prototype),Da=ae("RegExp"),Rs=(t,s)=>{const r=Object.getOwnPropertyDescriptors(t),a={};Fe(r,(n,o)=>{let l;(l=s(n,o,t))!==!1&&(a[o]=l||n)}),Object.defineProperties(t,a)},Fa=t=>{Rs(t,(s,r)=>{if(ee(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const a=t[r];if(ee(a)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},_a=(t,s)=>{const r={},a=n=>{n.forEach(o=>{r[o]=!0})};return Ae(t)?a(t):a(String(t).split(s)),r},Ua=()=>{},Ia=(t,s)=>t!=null&&Number.isFinite(t=+t)?t:s;function $a(t){return!!(t&&ee(t.append)&&t[vs]==="FormData"&&t[et])}const qa=t=>{const s=new Array(10),r=(a,n)=>{if(De(a)){if(s.indexOf(a)>=0)return;if(Pe(a))return a;if(!("toJSON"in a)){s[n]=a;const o=Ae(a)?[]:{};return Fe(a,(l,i)=>{const c=r(l,n+1);!Re(c)&&(o[i]=c)}),s[n]=void 0,o}}return a};return r(t,0)},Ba=ae("AsyncFunction"),Ha=t=>t&&(De(t)||ee(t))&&ee(t.then)&&ee(t.catch),As=((t,s)=>t?setImmediate:s?((r,a)=>(ye.addEventListener("message",({source:n,data:o})=>{n===ye&&o===r&&a.length&&a.shift()()},!1),n=>{a.push(n),ye.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",ee(ye.postMessage)),za=typeof queueMicrotask<"u"?queueMicrotask.bind(ye):typeof process<"u"&&process.nextTick||As,Va=t=>t!=null&&ee(t[et]),x={isArray:Ae,isArrayBuffer:ks,isBuffer:Pe,isFormData:fa,isArrayBufferView:ia,isString:ca,isNumber:Ss,isBoolean:da,isObject:De,isPlainObject:Ve,isEmptyObject:ma,isReadableStream:ya,isRequest:ja,isResponse:wa,isHeaders:Na,isUndefined:Re,isDate:ua,isFile:xa,isBlob:ha,isRegExp:Da,isFunction:ee,isStream:ga,isURLSearchParams:ba,isTypedArray:Ma,isFileList:pa,forEach:Fe,merge:yt,extend:ka,trim:va,stripBOM:Sa,inherits:Ca,toFlatObject:Ea,kindOf:tt,kindOfTest:ae,endsWith:Ra,toArray:Aa,forEachEntry:Oa,matchAll:Ta,isHTMLForm:La,hasOwnProperty:Jt,hasOwnProp:Jt,reduceDescriptors:Rs,freezeMethods:Fa,toObjectSet:_a,toCamelCase:Pa,noop:Ua,toFiniteNumber:Ia,findKey:Cs,global:ye,isContextDefined:Es,isSpecCompliantForm:$a,toJSONObject:qa,isAsyncFn:Ba,isThenable:Ha,setImmediate:As,asap:za,isIterable:Va};function L(t,s,r,a,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",s&&(this.code=s),r&&(this.config=r),a&&(this.request=a),n&&(this.response=n,this.status=n.status?n.status:null)}x.inherits(L,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:x.toJSONObject(this.config),code:this.code,status:this.status}}});const Ms=L.prototype,Os={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Os[t]={value:t}});Object.defineProperties(L,Os);Object.defineProperty(Ms,"isAxiosError",{value:!0});L.from=(t,s,r,a,n,o)=>{const l=Object.create(Ms);x.toFlatObject(t,l,function(d){return d!==Error.prototype},m=>m!=="isAxiosError");const i=t&&t.message?t.message:"Error",c=s==null&&t?t.code:s;return L.call(l,i,c,r,a,n),t&&l.cause==null&&Object.defineProperty(l,"cause",{value:t,configurable:!0}),l.name=t&&t.name||"Error",o&&Object.assign(l,o),l};const Ja=null;function jt(t){return x.isPlainObject(t)||x.isArray(t)}function Ts(t){return x.endsWith(t,"[]")?t.slice(0,-2):t}function Wt(t,s,r){return t?t.concat(s).map(function(n,o){return n=Ts(n),!r&&o?"["+n+"]":n}).join(r?".":""):s}function Wa(t){return x.isArray(t)&&!t.some(jt)}const Ka=x.toFlatObject(x,{},null,function(s){return/^is[A-Z]/.test(s)});function rt(t,s,r){if(!x.isObject(t))throw new TypeError("target must be an object");s=s||new FormData,r=x.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,w){return!x.isUndefined(w[g])});const a=r.metaTokens,n=r.visitor||d,o=r.dots,l=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&x.isSpecCompliantForm(s);if(!x.isFunction(n))throw new TypeError("visitor must be a function");function m(p){if(p===null)return"";if(x.isDate(p))return p.toISOString();if(x.isBoolean(p))return p.toString();if(!c&&x.isBlob(p))throw new L("Blob is not supported. Use a Buffer instead.");return x.isArrayBuffer(p)||x.isTypedArray(p)?c&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function d(p,g,w){let C=p;if(p&&!w&&typeof p=="object"){if(x.endsWith(g,"{}"))g=a?g:g.slice(0,-2),p=JSON.stringify(p);else if(x.isArray(p)&&Wa(p)||(x.isFileList(p)||x.endsWith(g,"[]"))&&(C=x.toArray(p)))return g=Ts(g),C.forEach(function(f,S){!(x.isUndefined(f)||f===null)&&s.append(l===!0?Wt([g],S,o):l===null?g:g+"[]",m(f))}),!1}return jt(p)?!0:(s.append(Wt(w,g,o),m(p)),!1)}const u=[],b=Object.assign(Ka,{defaultVisitor:d,convertValue:m,isVisitable:jt});function y(p,g){if(!x.isUndefined(p)){if(u.indexOf(p)!==-1)throw Error("Circular reference detected in "+g.join("."));u.push(p),x.forEach(p,function(C,j){(!(x.isUndefined(C)||C===null)&&n.call(s,C,x.isString(j)?j.trim():j,g,b))===!0&&y(C,g?g.concat(j):[j])}),u.pop()}}if(!x.isObject(t))throw new TypeError("data must be an object");return y(t),s}function Kt(t){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(a){return s[a]})}function Et(t,s){this._pairs=[],t&&rt(t,this,s)}const Ls=Et.prototype;Ls.append=function(s,r){this._pairs.push([s,r])};Ls.toString=function(s){const r=s?function(a){return s.call(this,a,Kt)}:Kt;return this._pairs.map(function(n){return r(n[0])+"="+r(n[1])},"").join("&")};function Ga(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Ps(t,s,r){if(!s)return t;const a=r&&r.encode||Ga;x.isFunction(r)&&(r={serialize:r});const n=r&&r.serialize;let o;if(n?o=n(s,r):o=x.isURLSearchParams(s)?s.toString():new Et(s,r).toString(a),o){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class Gt{constructor(){this.handlers=[]}use(s,r,a){return this.handlers.push({fulfilled:s,rejected:r,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){x.forEach(this.handlers,function(a){a!==null&&s(a)})}}const Ds={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ya=typeof URLSearchParams<"u"?URLSearchParams:Et,Xa=typeof FormData<"u"?FormData:null,Za=typeof Blob<"u"?Blob:null,Qa={isBrowser:!0,classes:{URLSearchParams:Ya,FormData:Xa,Blob:Za},protocols:["http","https","file","blob","url","data"]},Rt=typeof window<"u"&&typeof document<"u",wt=typeof navigator=="object"&&navigator||void 0,en=Rt&&(!wt||["ReactNative","NativeScript","NS"].indexOf(wt.product)<0),tn=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",sn=Rt&&window.location.href||"http://localhost",rn=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Rt,hasStandardBrowserEnv:en,hasStandardBrowserWebWorkerEnv:tn,navigator:wt,origin:sn},Symbol.toStringTag,{value:"Module"})),X={...rn,...Qa};function an(t,s){return rt(t,new X.classes.URLSearchParams,{visitor:function(r,a,n,o){return X.isNode&&x.isBuffer(r)?(this.append(a,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...s})}function nn(t){return x.matchAll(/\w+|\[(\w*)]/g,t).map(s=>s[0]==="[]"?"":s[1]||s[0])}function ln(t){const s={},r=Object.keys(t);let a;const n=r.length;let o;for(a=0;a<n;a++)o=r[a],s[o]=t[o];return s}function Fs(t){function s(r,a,n,o){let l=r[o++];if(l==="__proto__")return!0;const i=Number.isFinite(+l),c=o>=r.length;return l=!l&&x.isArray(n)?n.length:l,c?(x.hasOwnProp(n,l)?n[l]=[n[l],a]:n[l]=a,!i):((!n[l]||!x.isObject(n[l]))&&(n[l]=[]),s(r,a,n[l],o)&&x.isArray(n[l])&&(n[l]=ln(n[l])),!i)}if(x.isFormData(t)&&x.isFunction(t.entries)){const r={};return x.forEachEntry(t,(a,n)=>{s(nn(a),n,r,0)}),r}return null}function on(t,s,r){if(x.isString(t))try{return(s||JSON.parse)(t),x.trim(t)}catch(a){if(a.name!=="SyntaxError")throw a}return(r||JSON.stringify)(t)}const _e={transitional:Ds,adapter:["xhr","http","fetch"],transformRequest:[function(s,r){const a=r.getContentType()||"",n=a.indexOf("application/json")>-1,o=x.isObject(s);if(o&&x.isHTMLForm(s)&&(s=new FormData(s)),x.isFormData(s))return n?JSON.stringify(Fs(s)):s;if(x.isArrayBuffer(s)||x.isBuffer(s)||x.isStream(s)||x.isFile(s)||x.isBlob(s)||x.isReadableStream(s))return s;if(x.isArrayBufferView(s))return s.buffer;if(x.isURLSearchParams(s))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let i;if(o){if(a.indexOf("application/x-www-form-urlencoded")>-1)return an(s,this.formSerializer).toString();if((i=x.isFileList(s))||a.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return rt(i?{"files[]":s}:s,c&&new c,this.formSerializer)}}return o||n?(r.setContentType("application/json",!1),on(s)):s}],transformResponse:[function(s){const r=this.transitional||_e.transitional,a=r&&r.forcedJSONParsing,n=this.responseType==="json";if(x.isResponse(s)||x.isReadableStream(s))return s;if(s&&x.isString(s)&&(a&&!this.responseType||n)){const l=!(r&&r.silentJSONParsing)&&n;try{return JSON.parse(s,this.parseReviver)}catch(i){if(l)throw i.name==="SyntaxError"?L.from(i,L.ERR_BAD_RESPONSE,this,null,this.response):i}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:X.classes.FormData,Blob:X.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};x.forEach(["delete","get","head","post","put","patch"],t=>{_e.headers[t]={}});const cn=x.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),dn=t=>{const s={};let r,a,n;return t&&t.split(`
`).forEach(function(l){n=l.indexOf(":"),r=l.substring(0,n).trim().toLowerCase(),a=l.substring(n+1).trim(),!(!r||s[r]&&cn[r])&&(r==="set-cookie"?s[r]?s[r].push(a):s[r]=[a]:s[r]=s[r]?s[r]+", "+a:a)}),s},Yt=Symbol("internals");function Te(t){return t&&String(t).trim().toLowerCase()}function Je(t){return t===!1||t==null?t:x.isArray(t)?t.map(Je):String(t)}function mn(t){const s=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=r.exec(t);)s[a[1]]=a[2];return s}const un=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function mt(t,s,r,a,n){if(x.isFunction(a))return a.call(this,s,r);if(n&&(s=r),!!x.isString(s)){if(x.isString(a))return s.indexOf(a)!==-1;if(x.isRegExp(a))return a.test(s)}}function xn(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,r,a)=>r.toUpperCase()+a)}function hn(t,s){const r=x.toCamelCase(" "+s);["get","set","has"].forEach(a=>{Object.defineProperty(t,a+r,{value:function(n,o,l){return this[a].call(this,s,n,o,l)},configurable:!0})})}let te=class{constructor(s){s&&this.set(s)}set(s,r,a){const n=this;function o(i,c,m){const d=Te(c);if(!d)throw new Error("header name must be a non-empty string");const u=x.findKey(n,d);(!u||n[u]===void 0||m===!0||m===void 0&&n[u]!==!1)&&(n[u||c]=Je(i))}const l=(i,c)=>x.forEach(i,(m,d)=>o(m,d,c));if(x.isPlainObject(s)||s instanceof this.constructor)l(s,r);else if(x.isString(s)&&(s=s.trim())&&!un(s))l(dn(s),r);else if(x.isObject(s)&&x.isIterable(s)){let i={},c,m;for(const d of s){if(!x.isArray(d))throw TypeError("Object iterator must return a key-value pair");i[m=d[0]]=(c=i[m])?x.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}l(i,r)}else s!=null&&o(r,s,a);return this}get(s,r){if(s=Te(s),s){const a=x.findKey(this,s);if(a){const n=this[a];if(!r)return n;if(r===!0)return mn(n);if(x.isFunction(r))return r.call(this,n,a);if(x.isRegExp(r))return r.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,r){if(s=Te(s),s){const a=x.findKey(this,s);return!!(a&&this[a]!==void 0&&(!r||mt(this,this[a],a,r)))}return!1}delete(s,r){const a=this;let n=!1;function o(l){if(l=Te(l),l){const i=x.findKey(a,l);i&&(!r||mt(a,a[i],i,r))&&(delete a[i],n=!0)}}return x.isArray(s)?s.forEach(o):o(s),n}clear(s){const r=Object.keys(this);let a=r.length,n=!1;for(;a--;){const o=r[a];(!s||mt(this,this[o],o,s,!0))&&(delete this[o],n=!0)}return n}normalize(s){const r=this,a={};return x.forEach(this,(n,o)=>{const l=x.findKey(a,o);if(l){r[l]=Je(n),delete r[o];return}const i=s?xn(o):String(o).trim();i!==o&&delete r[o],r[i]=Je(n),a[i]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const r=Object.create(null);return x.forEach(this,(a,n)=>{a!=null&&a!==!1&&(r[n]=s&&x.isArray(a)?a.join(", "):a)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,r])=>s+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...r){const a=new this(s);return r.forEach(n=>a.set(n)),a}static accessor(s){const a=(this[Yt]=this[Yt]={accessors:{}}).accessors,n=this.prototype;function o(l){const i=Te(l);a[i]||(hn(n,l),a[i]=!0)}return x.isArray(s)?s.forEach(o):o(s),this}};te.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);x.reduceDescriptors(te.prototype,({value:t},s)=>{let r=s[0].toUpperCase()+s.slice(1);return{get:()=>t,set(a){this[r]=a}}});x.freezeMethods(te);function ut(t,s){const r=this||_e,a=s||r,n=te.from(a.headers);let o=a.data;return x.forEach(t,function(i){o=i.call(r,o,n.normalize(),s?s.status:void 0)}),n.normalize(),o}function _s(t){return!!(t&&t.__CANCEL__)}function Me(t,s,r){L.call(this,t??"canceled",L.ERR_CANCELED,s,r),this.name="CanceledError"}x.inherits(Me,L,{__CANCEL__:!0});function Us(t,s,r){const a=r.config.validateStatus;!r.status||!a||a(r.status)?t(r):s(new L("Request failed with status code "+r.status,[L.ERR_BAD_REQUEST,L.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function pn(t){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return s&&s[1]||""}function gn(t,s){t=t||10;const r=new Array(t),a=new Array(t);let n=0,o=0,l;return s=s!==void 0?s:1e3,function(c){const m=Date.now(),d=a[o];l||(l=m),r[n]=c,a[n]=m;let u=o,b=0;for(;u!==n;)b+=r[u++],u=u%t;if(n=(n+1)%t,n===o&&(o=(o+1)%t),m-l<s)return;const y=d&&m-d;return y?Math.round(b*1e3/y):void 0}}function fn(t,s){let r=0,a=1e3/s,n,o;const l=(m,d=Date.now())=>{r=d,n=null,o&&(clearTimeout(o),o=null),t(...m)};return[(...m)=>{const d=Date.now(),u=d-r;u>=a?l(m,d):(n=m,o||(o=setTimeout(()=>{o=null,l(n)},a-u)))},()=>n&&l(n)]}const Ye=(t,s,r=3)=>{let a=0;const n=gn(50,250);return fn(o=>{const l=o.loaded,i=o.lengthComputable?o.total:void 0,c=l-a,m=n(c),d=l<=i;a=l;const u={loaded:l,total:i,progress:i?l/i:void 0,bytes:c,rate:m||void 0,estimated:m&&i&&d?(i-l)/m:void 0,event:o,lengthComputable:i!=null,[s?"download":"upload"]:!0};t(u)},r)},Xt=(t,s)=>{const r=t!=null;return[a=>s[0]({lengthComputable:r,total:t,loaded:a}),s[1]]},Zt=t=>(...s)=>x.asap(()=>t(...s)),bn=X.hasStandardBrowserEnv?((t,s)=>r=>(r=new URL(r,X.origin),t.protocol===r.protocol&&t.host===r.host&&(s||t.port===r.port)))(new URL(X.origin),X.navigator&&/(msie|trident)/i.test(X.navigator.userAgent)):()=>!0,yn=X.hasStandardBrowserEnv?{write(t,s,r,a,n,o,l){if(typeof document>"u")return;const i=[`${t}=${encodeURIComponent(s)}`];x.isNumber(r)&&i.push(`expires=${new Date(r).toUTCString()}`),x.isString(a)&&i.push(`path=${a}`),x.isString(n)&&i.push(`domain=${n}`),o===!0&&i.push("secure"),x.isString(l)&&i.push(`SameSite=${l}`),document.cookie=i.join("; ")},read(t){if(typeof document>"u")return null;const s=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return s?decodeURIComponent(s[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function jn(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function wn(t,s){return s?t.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):t}function Is(t,s,r){let a=!jn(s);return t&&(a||r==!1)?wn(t,s):s}const Qt=t=>t instanceof te?{...t}:t;function Ne(t,s){s=s||{};const r={};function a(m,d,u,b){return x.isPlainObject(m)&&x.isPlainObject(d)?x.merge.call({caseless:b},m,d):x.isPlainObject(d)?x.merge({},d):x.isArray(d)?d.slice():d}function n(m,d,u,b){if(x.isUndefined(d)){if(!x.isUndefined(m))return a(void 0,m,u,b)}else return a(m,d,u,b)}function o(m,d){if(!x.isUndefined(d))return a(void 0,d)}function l(m,d){if(x.isUndefined(d)){if(!x.isUndefined(m))return a(void 0,m)}else return a(void 0,d)}function i(m,d,u){if(u in s)return a(m,d);if(u in t)return a(void 0,m)}const c={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:i,headers:(m,d,u)=>n(Qt(m),Qt(d),u,!0)};return x.forEach(Object.keys({...t,...s}),function(d){const u=c[d]||n,b=u(t[d],s[d],d);x.isUndefined(b)&&u!==i||(r[d]=b)}),r}const $s=t=>{const s=Ne({},t);let{data:r,withXSRFToken:a,xsrfHeaderName:n,xsrfCookieName:o,headers:l,auth:i}=s;if(s.headers=l=te.from(l),s.url=Ps(Is(s.baseURL,s.url,s.allowAbsoluteUrls),t.params,t.paramsSerializer),i&&l.set("Authorization","Basic "+btoa((i.username||"")+":"+(i.password?unescape(encodeURIComponent(i.password)):""))),x.isFormData(r)){if(X.hasStandardBrowserEnv||X.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(x.isFunction(r.getHeaders)){const c=r.getHeaders(),m=["content-type","content-length"];Object.entries(c).forEach(([d,u])=>{m.includes(d.toLowerCase())&&l.set(d,u)})}}if(X.hasStandardBrowserEnv&&(a&&x.isFunction(a)&&(a=a(s)),a||a!==!1&&bn(s.url))){const c=n&&o&&yn.read(o);c&&l.set(n,c)}return s},Nn=typeof XMLHttpRequest<"u",vn=Nn&&function(t){return new Promise(function(r,a){const n=$s(t);let o=n.data;const l=te.from(n.headers).normalize();let{responseType:i,onUploadProgress:c,onDownloadProgress:m}=n,d,u,b,y,p;function g(){y&&y(),p&&p(),n.cancelToken&&n.cancelToken.unsubscribe(d),n.signal&&n.signal.removeEventListener("abort",d)}let w=new XMLHttpRequest;w.open(n.method.toUpperCase(),n.url,!0),w.timeout=n.timeout;function C(){if(!w)return;const f=te.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),M={data:!i||i==="text"||i==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:f,config:t,request:w};Us(function(P){r(P),g()},function(P){a(P),g()},M),w=null}"onloadend"in w?w.onloadend=C:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(C)},w.onabort=function(){w&&(a(new L("Request aborted",L.ECONNABORTED,t,w)),w=null)},w.onerror=function(S){const M=S&&S.message?S.message:"Network Error",A=new L(M,L.ERR_NETWORK,t,w);A.event=S||null,a(A),w=null},w.ontimeout=function(){let S=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const M=n.transitional||Ds;n.timeoutErrorMessage&&(S=n.timeoutErrorMessage),a(new L(S,M.clarifyTimeoutError?L.ETIMEDOUT:L.ECONNABORTED,t,w)),w=null},o===void 0&&l.setContentType(null),"setRequestHeader"in w&&x.forEach(l.toJSON(),function(S,M){w.setRequestHeader(M,S)}),x.isUndefined(n.withCredentials)||(w.withCredentials=!!n.withCredentials),i&&i!=="json"&&(w.responseType=n.responseType),m&&([b,p]=Ye(m,!0),w.addEventListener("progress",b)),c&&w.upload&&([u,y]=Ye(c),w.upload.addEventListener("progress",u),w.upload.addEventListener("loadend",y)),(n.cancelToken||n.signal)&&(d=f=>{w&&(a(!f||f.type?new Me(null,t,w):f),w.abort(),w=null)},n.cancelToken&&n.cancelToken.subscribe(d),n.signal&&(n.signal.aborted?d():n.signal.addEventListener("abort",d)));const j=pn(n.url);if(j&&X.protocols.indexOf(j)===-1){a(new L("Unsupported protocol "+j+":",L.ERR_BAD_REQUEST,t));return}w.send(o||null)})},kn=(t,s)=>{const{length:r}=t=t?t.filter(Boolean):[];if(s||r){let a=new AbortController,n;const o=function(m){if(!n){n=!0,i();const d=m instanceof Error?m:this.reason;a.abort(d instanceof L?d:new Me(d instanceof Error?d.message:d))}};let l=s&&setTimeout(()=>{l=null,o(new L(`timeout ${s} of ms exceeded`,L.ETIMEDOUT))},s);const i=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(m=>{m.unsubscribe?m.unsubscribe(o):m.removeEventListener("abort",o)}),t=null)};t.forEach(m=>m.addEventListener("abort",o));const{signal:c}=a;return c.unsubscribe=()=>x.asap(i),c}},Sn=function*(t,s){let r=t.byteLength;if(r<s){yield t;return}let a=0,n;for(;a<r;)n=a+s,yield t.slice(a,n),a=n},Cn=async function*(t,s){for await(const r of En(t))yield*Sn(r,s)},En=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const s=t.getReader();try{for(;;){const{done:r,value:a}=await s.read();if(r)break;yield a}}finally{await s.cancel()}},es=(t,s,r,a)=>{const n=Cn(t,s);let o=0,l,i=c=>{l||(l=!0,a&&a(c))};return new ReadableStream({async pull(c){try{const{done:m,value:d}=await n.next();if(m){i(),c.close();return}let u=d.byteLength;if(r){let b=o+=u;r(b)}c.enqueue(new Uint8Array(d))}catch(m){throw i(m),m}},cancel(c){return i(c),n.return()}},{highWaterMark:2})},ts=64*1024,{isFunction:He}=x,Rn=(({Request:t,Response:s})=>({Request:t,Response:s}))(x.global),{ReadableStream:ss,TextEncoder:rs}=x.global,as=(t,...s)=>{try{return!!t(...s)}catch{return!1}},An=t=>{t=x.merge.call({skipUndefined:!0},Rn,t);const{fetch:s,Request:r,Response:a}=t,n=s?He(s):typeof fetch=="function",o=He(r),l=He(a);if(!n)return!1;const i=n&&He(ss),c=n&&(typeof rs=="function"?(p=>g=>p.encode(g))(new rs):async p=>new Uint8Array(await new r(p).arrayBuffer())),m=o&&i&&as(()=>{let p=!1;const g=new r(X.origin,{body:new ss,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!g}),d=l&&i&&as(()=>x.isReadableStream(new a("").body)),u={stream:d&&(p=>p.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!u[p]&&(u[p]=(g,w)=>{let C=g&&g[p];if(C)return C.call(g);throw new L(`Response type '${p}' is not supported`,L.ERR_NOT_SUPPORT,w)})});const b=async p=>{if(p==null)return 0;if(x.isBlob(p))return p.size;if(x.isSpecCompliantForm(p))return(await new r(X.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(x.isArrayBufferView(p)||x.isArrayBuffer(p))return p.byteLength;if(x.isURLSearchParams(p)&&(p=p+""),x.isString(p))return(await c(p)).byteLength},y=async(p,g)=>{const w=x.toFiniteNumber(p.getContentLength());return w??b(g)};return async p=>{let{url:g,method:w,data:C,signal:j,cancelToken:f,timeout:S,onDownloadProgress:M,onUploadProgress:A,responseType:P,headers:v,withCredentials:T="same-origin",fetchOptions:I}=$s(p),U=s||fetch;P=P?(P+"").toLowerCase():"text";let R=kn([j,f&&f.toAbortSignal()],S),O=null;const _=R&&R.unsubscribe&&(()=>{R.unsubscribe()});let z;try{if(A&&m&&w!=="get"&&w!=="head"&&(z=await y(v,C))!==0){let ne=new r(g,{method:"POST",body:C,duplex:"half"}),ie;if(x.isFormData(C)&&(ie=ne.headers.get("content-type"))&&v.setContentType(ie),ne.body){const[Oe,Se]=Xt(z,Ye(Zt(A)));C=es(ne.body,ts,Oe,Se)}}x.isString(T)||(T=T?"include":"omit");const $=o&&"credentials"in r.prototype,se={...I,signal:R,method:w.toUpperCase(),headers:v.normalize().toJSON(),body:C,duplex:"half",credentials:$?T:void 0};O=o&&new r(g,se);let Q=await(o?U(O,I):U(g,se));const G=d&&(P==="stream"||P==="response");if(d&&(M||G&&_)){const ne={};["status","statusText","headers"].forEach(Ie=>{ne[Ie]=Q[Ie]});const ie=x.toFiniteNumber(Q.headers.get("content-length")),[Oe,Se]=M&&Xt(ie,Ye(Zt(M),!0))||[];Q=new a(es(Q.body,ts,Oe,()=>{Se&&Se(),_&&_()}),ne)}P=P||"text";let ue=await u[x.findKey(u,P)||"text"](Q,p);return!G&&_&&_(),await new Promise((ne,ie)=>{Us(ne,ie,{data:ue,headers:te.from(Q.headers),status:Q.status,statusText:Q.statusText,config:p,request:O})})}catch($){throw _&&_(),$&&$.name==="TypeError"&&/Load failed|fetch/i.test($.message)?Object.assign(new L("Network Error",L.ERR_NETWORK,p,O),{cause:$.cause||$}):L.from($,$&&$.code,p,O)}}},Mn=new Map,qs=t=>{let s=t&&t.env||{};const{fetch:r,Request:a,Response:n}=s,o=[a,n,r];let l=o.length,i=l,c,m,d=Mn;for(;i--;)c=o[i],m=d.get(c),m===void 0&&d.set(c,m=i?new Map:An(s)),d=m;return m};qs();const At={http:Ja,xhr:vn,fetch:{get:qs}};x.forEach(At,(t,s)=>{if(t){try{Object.defineProperty(t,"name",{value:s})}catch{}Object.defineProperty(t,"adapterName",{value:s})}});const ns=t=>`- ${t}`,On=t=>x.isFunction(t)||t===null||t===!1;function Tn(t,s){t=x.isArray(t)?t:[t];const{length:r}=t;let a,n;const o={};for(let l=0;l<r;l++){a=t[l];let i;if(n=a,!On(a)&&(n=At[(i=String(a)).toLowerCase()],n===void 0))throw new L(`Unknown adapter '${i}'`);if(n&&(x.isFunction(n)||(n=n.get(s))))break;o[i||"#"+l]=n}if(!n){const l=Object.entries(o).map(([c,m])=>`adapter ${c} `+(m===!1?"is not supported by the environment":"is not available in the build"));let i=r?l.length>1?`since :
`+l.map(ns).join(`
`):" "+ns(l[0]):"as no adapter specified";throw new L("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return n}const Bs={getAdapter:Tn,adapters:At};function xt(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Me(null,t)}function ls(t){return xt(t),t.headers=te.from(t.headers),t.data=ut.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Bs.getAdapter(t.adapter||_e.adapter,t)(t).then(function(a){return xt(t),a.data=ut.call(t,t.transformResponse,a),a.headers=te.from(a.headers),a},function(a){return _s(a)||(xt(t),a&&a.response&&(a.response.data=ut.call(t,t.transformResponse,a.response),a.response.headers=te.from(a.response.headers))),Promise.reject(a)})}const Hs="1.13.2",at={};["object","boolean","number","function","string","symbol"].forEach((t,s)=>{at[t]=function(a){return typeof a===t||"a"+(s<1?"n ":" ")+t}});const os={};at.transitional=function(s,r,a){function n(o,l){return"[Axios v"+Hs+"] Transitional option '"+o+"'"+l+(a?". "+a:"")}return(o,l,i)=>{if(s===!1)throw new L(n(l," has been removed"+(r?" in "+r:"")),L.ERR_DEPRECATED);return r&&!os[l]&&(os[l]=!0,console.warn(n(l," has been deprecated since v"+r+" and will be removed in the near future"))),s?s(o,l,i):!0}};at.spelling=function(s){return(r,a)=>(console.warn(`${a} is likely a misspelling of ${s}`),!0)};function Ln(t,s,r){if(typeof t!="object")throw new L("options must be an object",L.ERR_BAD_OPTION_VALUE);const a=Object.keys(t);let n=a.length;for(;n-- >0;){const o=a[n],l=s[o];if(l){const i=t[o],c=i===void 0||l(i,o,t);if(c!==!0)throw new L("option "+o+" must be "+c,L.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new L("Unknown option "+o,L.ERR_BAD_OPTION)}}const We={assertOptions:Ln,validators:at},le=We.validators;let je=class{constructor(s){this.defaults=s||{},this.interceptors={request:new Gt,response:new Gt}}async request(s,r){try{return await this._request(s,r)}catch(a){if(a instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const o=n.stack?n.stack.replace(/^.+\n/,""):"";try{a.stack?o&&!String(a.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+o):a.stack=o}catch{}}throw a}}_request(s,r){typeof s=="string"?(r=r||{},r.url=s):r=s||{},r=Ne(this.defaults,r);const{transitional:a,paramsSerializer:n,headers:o}=r;a!==void 0&&We.assertOptions(a,{silentJSONParsing:le.transitional(le.boolean),forcedJSONParsing:le.transitional(le.boolean),clarifyTimeoutError:le.transitional(le.boolean)},!1),n!=null&&(x.isFunction(n)?r.paramsSerializer={serialize:n}:We.assertOptions(n,{encode:le.function,serialize:le.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),We.assertOptions(r,{baseUrl:le.spelling("baseURL"),withXsrfToken:le.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let l=o&&x.merge(o.common,o[r.method]);o&&x.forEach(["delete","get","head","post","put","patch","common"],p=>{delete o[p]}),r.headers=te.concat(l,o);const i=[];let c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(r)===!1||(c=c&&g.synchronous,i.unshift(g.fulfilled,g.rejected))});const m=[];this.interceptors.response.forEach(function(g){m.push(g.fulfilled,g.rejected)});let d,u=0,b;if(!c){const p=[ls.bind(this),void 0];for(p.unshift(...i),p.push(...m),b=p.length,d=Promise.resolve(r);u<b;)d=d.then(p[u++],p[u++]);return d}b=i.length;let y=r;for(;u<b;){const p=i[u++],g=i[u++];try{y=p(y)}catch(w){g.call(this,w);break}}try{d=ls.call(this,y)}catch(p){return Promise.reject(p)}for(u=0,b=m.length;u<b;)d=d.then(m[u++],m[u++]);return d}getUri(s){s=Ne(this.defaults,s);const r=Is(s.baseURL,s.url,s.allowAbsoluteUrls);return Ps(r,s.params,s.paramsSerializer)}};x.forEach(["delete","get","head","options"],function(s){je.prototype[s]=function(r,a){return this.request(Ne(a||{},{method:s,url:r,data:(a||{}).data}))}});x.forEach(["post","put","patch"],function(s){function r(a){return function(o,l,i){return this.request(Ne(i||{},{method:s,headers:a?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}je.prototype[s]=r(),je.prototype[s+"Form"]=r(!0)});let Pn=class zs{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});const a=this;this.promise.then(n=>{if(!a._listeners)return;let o=a._listeners.length;for(;o-- >0;)a._listeners[o](n);a._listeners=null}),this.promise.then=n=>{let o;const l=new Promise(i=>{a.subscribe(i),o=i}).then(n);return l.cancel=function(){a.unsubscribe(o)},l},s(function(o,l,i){a.reason||(a.reason=new Me(o,l,i),r(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const r=this._listeners.indexOf(s);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const s=new AbortController,r=a=>{s.abort(a)};return this.subscribe(r),s.signal.unsubscribe=()=>this.unsubscribe(r),s.signal}static source(){let s;return{token:new zs(function(n){s=n}),cancel:s}}};function Dn(t){return function(r){return t.apply(null,r)}}function Fn(t){return x.isObject(t)&&t.isAxiosError===!0}const Nt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Nt).forEach(([t,s])=>{Nt[s]=t});function Vs(t){const s=new je(t),r=Ns(je.prototype.request,s);return x.extend(r,je.prototype,s,{allOwnKeys:!0}),x.extend(r,s,null,{allOwnKeys:!0}),r.create=function(n){return Vs(Ne(t,n))},r}const H=Vs(_e);H.Axios=je;H.CanceledError=Me;H.CancelToken=Pn;H.isCancel=_s;H.VERSION=Hs;H.toFormData=rt;H.AxiosError=L;H.Cancel=H.CanceledError;H.all=function(s){return Promise.all(s)};H.spread=Dn;H.isAxiosError=Fn;H.mergeConfig=Ne;H.AxiosHeaders=te;H.formToJSON=t=>Fs(x.isHTMLForm(t)?new FormData(t):t);H.getAdapter=Bs.getAdapter;H.HttpStatusCode=Nt;H.default=H;const{Axios:Ll,AxiosError:Pl,CanceledError:Dl,isCancel:Fl,CancelToken:_l,VERSION:Ul,all:Il,Cancel:$l,isAxiosError:ql,spread:Bl,toFormData:Hl,AxiosHeaders:zl,HttpStatusCode:Vl,formToJSON:Jl,getAdapter:Wl,mergeConfig:Kl}=H,E=H.create({baseURL:"/api",headers:{"Content-Type":"application/json"}});E.interceptors.request.use(t=>{const s=localStorage.getItem("token");return s&&(t.headers.Authorization=`Bearer ${s}`),t},t=>Promise.reject(t));E.interceptors.response.use(t=>t,t=>{var s;return((s=t.response)==null?void 0:s.status)===401&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(t)});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),D=(t,s)=>{const r=h.forwardRef(({color:a="currentColor",size:n=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:i="",children:c,...m},d)=>h.createElement("svg",{ref:d,..._n,width:n,height:n,stroke:a,strokeWidth:l?Number(o)*24/Number(n):o,className:["lucide",`lucide-${Un(t)}`,i].join(" "),...m},[...s.map(([u,b])=>h.createElement(u,b)),...Array.isArray(c)?c:[c]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=D("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=D("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=D("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=D("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=D("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=D("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=D("CalendarCheck",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bn=D("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=D("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=D("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=D("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=D("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=D("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=D("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=D("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=D("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=D("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=D("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=D("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=D("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=D("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=D("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=D("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=D("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=D("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=D("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=D("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=D("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=D("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=D("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=D("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const el=D("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=D("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=D("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=D("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=D("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=D("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=D("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=D("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=D("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var Ws={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},cs=he.createContext&&he.createContext(Ws),pe=function(){return pe=Object.assign||function(t){for(var s,r=1,a=arguments.length;r<a;r++){s=arguments[r];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},pe.apply(this,arguments)},rl=function(t,s){var r={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&s.indexOf(a)<0&&(r[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,a=Object.getOwnPropertySymbols(t);n<a.length;n++)s.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(t,a[n])&&(r[a[n]]=t[a[n]]);return r};function Ks(t){return t&&t.map(function(s,r){return he.createElement(s.tag,pe({key:r},s.attr),Ks(s.child))})}function Gs(t){return function(s){return he.createElement(al,pe({attr:pe({},t.attr)},s),Ks(t.child))}}function al(t){var s=function(r){var a=t.attr,n=t.size,o=t.title,l=rl(t,["attr","size","title"]),i=n||r.size||"1em",c;return r.className&&(c=r.className),t.className&&(c=(c?c+" ":"")+t.className),he.createElement("svg",pe({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,a,l,{className:c,style:pe(pe({color:t.color||r.color},r.style),t.style),height:i,width:i,xmlns:"http://www.w3.org/2000/svg"}),o&&he.createElement("title",null,o),t.children)};return cs!==void 0?he.createElement(cs.Consumer,null,function(r){return s(r)}):s(Ws)}function nl(t){return Gs({attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`}},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`}},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`}},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`}}]})(t)}function ll(t){return Gs({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"title",attr:{},child:[]},{tag:"path",attr:{d:"M0 0v11.408h11.408V0zm12.594 0v11.408H24V0zM0 12.594V24h11.408V12.594zm12.594 0V24H24V12.594z"}}]})(t)}function ol({onLogin:t}){const[s,r]=h.useState({email:"",password:""}),[a,n]=h.useState(!1),[o,l]=h.useState("password"),[i,c]=h.useState(""),[m,d]=h.useState(!1),[u,b]=h.useState(!1),[y,p]=h.useState(0),g=kt();h.useEffect(()=>{if(!m||y<=0)return;const A=setInterval(()=>{p(P=>P>0?P-1:0)},1e3);return()=>clearInterval(A)},[m,y]);const w=A=>{A.role==="admin"?g("/admin",{replace:!0}):A.role==="mentor"?g("/mentor",{replace:!0}):g("/dashboard",{replace:!0})},C=async A=>{var P,v;A.preventDefault(),n(!0);try{const T=await E.post("/auth/login",s),{token:I,user:U}=T.data;t(U,I),N.success(`Welcome back, ${U.name}!`),w(U)}catch(T){N.error(((v=(P=T.response)==null?void 0:P.data)==null?void 0:v.message)||"Login failed")}finally{n(!1)}},j=async()=>{var A,P;if(!s.email){N.error("Please enter your email first");return}b(!0);try{const{data:v}=await E.post("/otp/request",{email:s.email});d(!0),p(60),N.success("OTP sent to your email"),v!=null&&v.otp}catch(v){N.error(((P=(A=v.response)==null?void 0:A.data)==null?void 0:P.message)||"Failed to send OTP")}finally{b(!1)}},f=async A=>{var P,v;if(A.preventDefault(),!s.email||!i){N.error("Email and OTP are required");return}n(!0);try{const T=await E.post("/otp/verify",{email:s.email,otp:i,password:s.password||void 0}),{token:I,user:U}=T.data;t(U,I),N.success(`Welcome back, ${U.name}!`),w(U)}catch(T){N.error(((v=(P=T.response)==null?void 0:P.data)==null?void 0:v.message)||"OTP verification failed")}finally{n(!1)}},S=async()=>{try{N.info("Google OAuth integration - Use Google OAuth SDK in production")}catch{N.error("Google login failed")}},M=async()=>{try{N.info("Microsoft OAuth integration - Use Microsoft OAuth SDK in production")}catch{N.error("Microsoft login failed")}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:e.jsx("div",{className:"max-w-md w-full",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:e.jsx(Jn,{className:"w-8 h-8 text-white"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Welcome Back"}),e.jsx("p",{className:"text-gray-600",children:"Sign in to your account"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 bg-gray-100 rounded-xl p-1 mb-6",children:[e.jsx("button",{type:"button",onClick:()=>{l("password"),c(""),d(!1)},className:`py-2 rounded-lg text-sm font-semibold transition-colors ${o==="password"?"bg-white shadow text-purple-600":"text-gray-600 hover:text-purple-600"}`,children:"Password Login"}),e.jsx("button",{type:"button",onClick:()=>{l("otp"),r(A=>({...A,password:""}))},className:`py-2 rounded-lg text-sm font-semibold transition-colors ${o==="otp"?"bg-white shadow text-purple-600":"text-gray-600 hover:text-purple-600"}`,children:"OTP Login"})]}),e.jsxs("form",{onSubmit:o==="password"?C:f,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(Lt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"email",required:!0,value:s.email,onChange:A=>r({...s,email:A.target.value}),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"you@example.com"})]})]}),o==="password"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Tt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"password",required:!0,value:s.password,onChange:A=>r({...s,password:A.target.value}),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:""})]})]}),e.jsx("button",{type:"submit",disabled:a,className:"w-full bg-gradient-to-r from-purple-500 to-blue-600 text-white py-3 rounded-lg font-semibold hover:from-purple-600 hover:to-blue-700 transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Signing in...":"Sign In"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"One-Time Password"}),e.jsx("button",{type:"button",onClick:j,disabled:u||y>0,className:"text-sm font-semibold text-purple-600 hover:text-purple-700 disabled:opacity-60",children:y>0?`Resend in ${y}s`:m?"Resend OTP":"Send OTP"})]}),e.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",maxLength:6,value:i,onChange:A=>c(A.target.value.replace(/\D/g,"")),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent tracking-widest text-center uppercase",placeholder:"Enter 6-digit OTP",disabled:!m}),e.jsx("p",{className:"text-xs text-gray-500",children:"We will send a 6-digit verification code to your registered email. Enter the code within 10 minutes."})]}),e.jsx("button",{type:"submit",disabled:a||!m,className:"w-full bg-gradient-to-r from-purple-500 to-blue-600 text-white py-3 rounded-lg font-semibold hover:from-purple-600 hover:to-blue-700 transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Verifying...":"Verify & Sign In"})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),e.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-3",children:[e.jsxs("button",{type:"button",onClick:S,className:"w-full inline-flex justify-center items-center py-2 px-4 border border-gray-300 rounded-lg shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 transition-all",children:[e.jsx(nl,{className:"w-5 h-5 mr-2"}),"Google"]}),e.jsxs("button",{type:"button",onClick:M,className:"w-full inline-flex justify-center items-center py-2 px-4 border border-gray-300 rounded-lg shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 transition-all",children:[e.jsx(ll,{className:"w-5 h-5 mr-2 text-blue-600"}),"Microsoft"]})]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",e.jsx(K,{to:"/register",className:"text-purple-600 font-semibold hover:text-purple-700",children:"Sign up"})]})})]})})})}function il({onLogin:t}){const[s,r]=h.useState({name:"",email:"",password:"",role:"student",profile:{college:"",year:"",homeTown:"",commuting:!1}}),[a,n]=h.useState(!1),o=kt(),l=async i=>{var c,m;i.preventDefault(),n(!0);try{const d=await E.post("/auth/register",{...s,profile:{...s.profile,year:s.profile.year?parseInt(s.profile.year):void 0}});N.success("Registration successful! Please login."),o("/login")}catch(d){N.error(((m=(c=d.response)==null?void 0:c.data)==null?void 0:m.message)||"Registration failed")}finally{n(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 py-8",children:e.jsx("div",{className:"max-w-2xl w-full",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:e.jsx(lt,{className:"w-8 h-8 text-white"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Create Account"}),e.jsx("p",{className:"text-gray-600",children:"Join our off-campus support platform"})]}),e.jsxs("form",{onSubmit:l,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ft,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",required:!0,value:s.name,onChange:i=>r({...s,name:i.target.value}),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"John Doe"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(Lt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"email",required:!0,value:s.email,onChange:i=>r({...s,email:i.target.value}),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"you@example.com"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Tt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"password",required:!0,value:s.password,onChange:i=>r({...s,password:i.target.value}),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:""})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role"}),e.jsxs("select",{value:s.role,onChange:i=>r({...s,role:i.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[e.jsx("option",{value:"student",children:"Student"}),e.jsx("option",{value:"mentor",children:"Mentor"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"College"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ot,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",value:s.profile.college,onChange:i=>r({...s,profile:{...s.profile,college:i.target.value}}),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Your College"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Year"}),e.jsx("input",{type:"number",min:"1",max:"5",value:s.profile.year,onChange:i=>r({...s,profile:{...s.profile,year:i.target.value}}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"1-5"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Home Town"}),e.jsx("input",{type:"text",value:s.profile.homeTown,onChange:i=>r({...s,profile:{...s.profile,homeTown:i.target.value}}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Your Home Town"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"commuting",checked:s.profile.commuting,onChange:i=>r({...s,profile:{...s.profile,commuting:i.target.checked}}),className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),e.jsx("label",{htmlFor:"commuting",className:"ml-2 text-sm text-gray-700",children:"I am a commuting student"})]}),e.jsx("button",{type:"submit",disabled:a,className:"w-full bg-gradient-to-r from-purple-500 to-blue-600 text-white py-3 rounded-lg font-semibold hover:from-purple-600 hover:to-blue-700 transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Creating account...":"Create Account"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",e.jsx(K,{to:"/login",className:"text-purple-600 font-semibold hover:text-purple-700",children:"Sign in"})]})})]})})})}const cl={en:{welcome:"Welcome",login:"Login",logout:"Logout",register:"Register",email:"Email",password:"Password",name:"Name",submit:"Submit",cancel:"Cancel",save:"Save",edit:"Edit",delete:"Delete",loading:"Loading...",dashboard:"Dashboard",schedule:"Schedule",notifications:"Notifications",bookings:"Bookings",profile:"Profile",clubs:"Clubs",holidays:"Holidays",location:"Location",checkIn:"Check In",nearCampus:"Near Campus",farFromCampus:"Far from Campus",distance:"Distance",admin:"Admin",analytics:"Analytics",users:"Users",reports:"Reports",mentor:"Mentor",mentees:"Mentees",assignments:"Assignments",sessions:"Sessions",student:"Student",myBookings:"My Bookings",myClubs:"My Clubs",requestHoliday:"Request Holiday"},es:{welcome:"Bienvenido",login:"Iniciar sesin",logout:"Cerrar sesin",register:"Registrarse",email:"Correo electrnico",password:"Contrasea",name:"Nombre",submit:"Enviar",cancel:"Cancelar",save:"Guardar",edit:"Editar",delete:"Eliminar",loading:"Cargando...",dashboard:"Panel",schedule:"Horario",notifications:"Notificaciones",bookings:"Reservas",profile:"Perfil",clubs:"Clubes",holidays:"Vacaciones",location:"Ubicacin",checkIn:"Registrarse",nearCampus:"Cerca del Campus",farFromCampus:"Lejos del Campus",distance:"Distancia",admin:"Administrador",analytics:"Anlisis",users:"Usuarios",reports:"Informes",mentor:"Mentor",mentees:"Mentees",assignments:"Tareas",sessions:"Sesiones",student:"Estudiante",myBookings:"Mis Reservas",myClubs:"Mis Clubes",requestHoliday:"Solicitar Vacaciones"},hi:{welcome:"",login:"",logout:"",register:"",email:"",password:"",name:"",submit:" ",cancel:" ",save:"",edit:" ",delete:"",loading:"   ...",dashboard:"",schedule:"",notifications:"",bookings:"",profile:"",clubs:"",holidays:"",location:"",checkIn:" ",nearCampus:"  ",farFromCampus:"  ",distance:"",admin:"",analytics:"",users:"",reports:"",mentor:"",mentees:"",assignments:"",sessions:"",student:"",myBookings:" ",myClubs:" ",requestHoliday:"  "}};let Ys=localStorage.getItem("language")||"en";const dl=t=>{cl[t]&&(Ys=t,localStorage.setItem("language",t),window.dispatchEvent(new Event("languagechange")))},ds=()=>Ys;function ml(){var l,i,c;const[t,s]=h.useState(ds()),[r,a]=h.useState(!1);h.useEffect(()=>{const m=()=>{s(ds())};return window.addEventListener("languagechange",m),()=>window.removeEventListener("languagechange",m)},[]);const n=[{code:"en",name:"English",flag:""},{code:"es",name:"Espaol",flag:""},{code:"hi",name:"",flag:""}],o=m=>{dl(m),s(m),a(!1),window.location.reload()};return e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>a(!r),className:"flex items-center space-x-1 sm:space-x-2 px-2 sm:px-3 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-all shadow-md",children:[e.jsx(zn,{className:"w-4 h-4"}),e.jsxs("span",{className:"text-xs sm:text-sm font-medium hidden sm:inline",children:[(l=n.find(m=>m.code===t))==null?void 0:l.flag," ",(i=n.find(m=>m.code===t))==null?void 0:i.name]}),e.jsx("span",{className:"text-xs sm:hidden",children:(c=n.find(m=>m.code===t))==null?void 0:c.flag})]}),r&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>a(!1)}),e.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-xl z-20",children:n.map(m=>e.jsxs("button",{onClick:()=>o(m.code),className:`w-full text-left px-4 py-2 hover:bg-gray-100 flex items-center space-x-2 ${t===m.code?"bg-purple-50 text-purple-600":""}`,children:[e.jsx("span",{children:m.flag}),e.jsx("span",{children:m.name}),t===m.code&&e.jsx("span",{className:"ml-auto",children:""})]},m.code))})]})]})}const pt={student:[{to:"/dashboard",label:"Dashboard",icon:Ke},{to:"/assignments",label:"Assignments",icon:ge},{to:"/sessions",label:"Sessions",icon:vt},{to:"/mentor",label:"Mentor",icon:ve},{to:"/bookings",label:"Bookings",icon:Mt},{to:"/clubs",label:"Clubs",icon:lt},{to:"/holidays",label:"Holidays",icon:Bn},{to:"/notifications",label:"Notifications",icon:Ee}],mentor:[{to:"/mentor",label:"Mentor Home",icon:Ke},{to:"/assignments",label:"Assignments",icon:ge},{to:"/sessions",label:"Sessions",icon:vt},{to:"/notifications",label:"Notifications",icon:Ee}],admin:[{to:"/admin",label:"Admin Console",icon:Pt},{to:"/notifications",label:"Notifications",icon:Ee}],default:[{to:"/dashboard",label:"Dashboard",icon:Ke},{to:"/notifications",label:"Notifications",icon:Ee}]};function W({user:t,onLogout:s}){var i,c,m,d;const[r,a]=h.useState(!1),n=h.useMemo(()=>t!=null&&t.role&&pt[t.role]||pt.default,[t==null?void 0:t.role]),o=()=>a(u=>!u),l=()=>a(!1);return e.jsxs("header",{className:"bg-white/95 backdrop-blur shadow-lg sticky top-0 z-50",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsx("div",{className:"flex items-center space-x-3 sm:space-x-4 min-w-0",children:e.jsxs(K,{to:"/dashboard",className:"flex items-center space-x-2 min-w-0",children:[e.jsx("div",{className:"w-9 h-9 sm:w-10 sm:h-10 bg-gradient-to-br from-purple-500 to-blue-600 rounded-xl flex items-center justify-center flex-shrink-0",children:e.jsx(Ke,{className:"w-5 h-5 text-white"})}),e.jsx("span",{className:"text-lg sm:text-xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent truncate",children:"Off-Campus Support"})]})}),e.jsx("nav",{className:"hidden lg:flex items-center space-x-1",children:n.map(u=>{const b=u.icon;return e.jsxs(qt,{to:u.to,className:({isActive:y})=>`px-4 py-2 rounded-lg transition-colors flex items-center space-x-2 font-medium ${y?"bg-purple-100 text-purple-700":"text-gray-700 hover:bg-gray-100"}`,children:[e.jsx(b,{className:"w-4 h-4"}),e.jsx("span",{children:u.label})]},u.to)})}),e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[e.jsx(ml,{}),e.jsxs(K,{to:"/profile",className:"hidden md:flex items-center space-x-2 hover:opacity-80 transition-opacity",children:[e.jsx("div",{className:"w-9 h-9 bg-gradient-to-br from-purple-500 to-blue-600 rounded-full flex items-center justify-center text-white font-semibold text-sm",children:((c=(i=t==null?void 0:t.name)==null?void 0:i.charAt(0))==null?void 0:c.toUpperCase())||"U"}),e.jsxs("div",{className:"hidden lg:flex flex-col max-w-[140px]",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-800 truncate",children:t==null?void 0:t.name}),e.jsx("span",{className:"text-xs text-gray-500 capitalize truncate",children:t==null?void 0:t.role})]})]}),e.jsxs("button",{onClick:s,className:"hidden sm:flex items-center space-x-2 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:[e.jsx(is,{className:"w-4 h-4"}),e.jsx("span",{children:"Logout"})]}),e.jsx("button",{onClick:o,className:"lg:hidden inline-flex items-center justify-center p-2 rounded-lg bg-gray-100 hover:bg-gray-200 transition-colors","aria-label":"Toggle navigation",children:r?e.jsx(sl,{className:"w-5 h-5 text-gray-700"}):e.jsx(Gn,{className:"w-5 h-5 text-gray-700"})})]})]})}),r&&e.jsx("div",{className:"lg:hidden border-t border-gray-100 bg-white/95 backdrop-blur",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-3 space-y-2",children:[n.map(u=>{const b=u.icon;return e.jsxs(qt,{to:u.to,onClick:l,className:({isActive:y})=>`flex items-center space-x-3 px-3 py-2 rounded-lg text-sm font-medium ${y?"bg-purple-100 text-purple-700":"text-gray-700 hover:bg-gray-100"}`,children:[e.jsx(b,{className:"w-4 h-4"}),e.jsx("span",{children:u.label})]},u.to)}),e.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-100",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-9 h-9 bg-gradient-to-br from-purple-500 to-blue-600 rounded-full flex items-center justify-center text-white font-semibold text-sm",children:((d=(m=t==null?void 0:t.name)==null?void 0:m.charAt(0))==null?void 0:d.toUpperCase())||"U"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-800",children:t==null?void 0:t.name}),e.jsx("span",{className:"text-xs text-gray-500 capitalize",children:t==null?void 0:t.role})]})]}),e.jsxs("button",{onClick:()=>{l(),s()},className:"flex items-center space-x-2 px-3 py-2 bg-red-500 text-white rounded-lg text-sm",children:[e.jsx(is,{className:"w-4 h-4"}),e.jsx("span",{children:"Logout"})]})]})]})})]})}function ul({schedule:t}){return!t||!t.slots||t.slots.length===0?e.jsxs("div",{className:"bg-white/90 backdrop-blur rounded-xl p-6 shadow-lg",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Today's Schedule"}),e.jsx("p",{className:"text-gray-600",children:"No classes scheduled for today"})]}):e.jsxs("div",{className:"bg-white/90 backdrop-blur rounded-xl p-6 shadow-lg",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Today's Schedule"}),e.jsx("div",{className:"space-y-3",children:t.slots.map((s,r)=>e.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg p-4 border-l-4 border-purple-500",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-purple-600"}),e.jsxs("span",{className:"font-semibold text-gray-800",children:[s.start," - ",s.end]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-gray-700 font-medium",children:s.course})]}),s.type&&e.jsx("span",{className:"inline-block mt-2 px-2 py-1 bg-purple-100 text-purple-700 text-xs rounded",children:s.type})]})})},r))})]})}function Xs({notification:t,onMarkRead:s}){const r=()=>{switch(t.type){case"class":case"timetable":return e.jsx(J,{className:"w-5 h-5 text-blue-600"});case"transport":return e.jsx(In,{className:"w-5 h-5 text-orange-600"});case"event":return e.jsx(Ee,{className:"w-5 h-5 text-purple-600"});case"holiday":return e.jsx(vt,{className:"w-5 h-5 text-emerald-600"});case"club":return e.jsx(lt,{className:"w-5 h-5 text-pink-600"});case"assignment":return e.jsx(Mt,{className:"w-5 h-5 text-indigo-600"});case"mentor":return e.jsx(Kn,{className:"w-5 h-5 text-teal-600"});default:return e.jsx(Vn,{className:"w-5 h-5 text-gray-600"})}},a=()=>{switch(t.type){case"class":case"timetable":return"bg-blue-50 border-blue-200";case"transport":return"bg-orange-50 border-orange-200";case"event":return"bg-purple-50 border-purple-200";case"holiday":return"bg-emerald-50 border-emerald-200";case"club":return"bg-pink-50 border-pink-200";case"assignment":return"bg-indigo-50 border-indigo-200";case"mentor":return"bg-teal-50 border-teal-200";default:return"bg-gray-50 border-gray-200"}};return e.jsx("div",{className:`${a()} rounded-lg p-4 border-l-4 transition-all ${t.read?"opacity-80":"shadow-md"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"mt-1 flex-shrink-0",children:r()}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:t.title}),t.body&&e.jsx("p",{className:"text-sm text-gray-600 whitespace-pre-line break-words",children:t.body})]}),!t.read&&e.jsx("button",{onClick:s,className:"text-xs font-semibold text-purple-600 hover:text-purple-700",children:"Mark read"})]}),e.jsxs("div",{className:"flex items-center justify-between mt-3 text-xs text-gray-500",children:[e.jsx("span",{children:new Date(t.createdAt).toLocaleString()}),e.jsx("span",{className:"capitalize",children:t.type||"general"})]})]})]})})}function xl({user:t,onLogout:s}){var C;const[r,a]=h.useState(null),[n,o]=h.useState([]),[l,i]=h.useState(!0),[c,m]=h.useState(null),[d,u]=h.useState([]),[b,y]=h.useState(null);kt(),h.useEffect(()=>{p(),g()},[]);const p=async()=>{try{const j=await E.get("/dashboard");a(j.data.schedule),o(j.data.alerts||[])}catch{N.error("Failed to load dashboard data")}finally{i(!1)}},g=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(async j=>{const{latitude:f,longitude:S}=j.coords;m({latitude:f,longitude:S});try{await E.post("/location/update",{latitude:f,longitude:S})}catch(M){console.error("Failed to update location:",M)}try{const M=await E.get(`/location/users/nearby?lat=${f}&lng=${S}&radius=5000`);u(M.data.users||[])}catch(M){console.error("Failed to fetch nearby users:",M)}},j=>{console.error("Geolocation error:",j),N.error("Unable to get your location")}):N.error("Geolocation is not supported by your browser")},w=async()=>{var S,M;if(!c){N.error("Location not available");return}const j=16.2345,f=80.5613;try{const A=await E.post("/checkin",{campusLat:j,campusLng:f,deviceLat:c.latitude,deviceLng:c.longitude});y(A.data.distance);const P=A.data.isNearCampus?`Check-in successful! You are near campus (${A.data.distanceKm} km away)`:`Check-in recorded. You are ${A.data.distanceKm} km from campus.`;N.success(P)}catch(A){N.error(((M=(S=A.response)==null?void 0:S.data)==null?void 0:M.message)||"Check-in failed")}};return l?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-500 to-blue-600",children:[e.jsx(W,{user:t,onLogout:s}),e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white"})})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-500 via-blue-500 to-indigo-600",children:[e.jsx(W,{user:t,onLogout:s}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("h1",{className:"text-4xl font-bold text-white mb-2",children:["Welcome back, ",t==null?void 0:t.name,"!"]}),e.jsx("p",{className:"text-white/80",children:"Here's what's happening today"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white/90 backdrop-blur rounded-xl p-6 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Today's Schedule"}),e.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:((C=r==null?void 0:r.slots)==null?void 0:C.length)||0})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(J,{className:"w-6 h-6 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white/90 backdrop-blur rounded-xl p-6 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Notifications"}),e.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:n.length})]}),e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx(Dt,{className:"w-6 h-6 text-purple-600"})})]})}),e.jsx("div",{className:"bg-white/90 backdrop-blur rounded-xl p-6 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Nearby Users"}),e.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:d.length})]}),e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(ve,{className:"w-6 h-6 text-green-600"})})]})}),e.jsx("div",{className:"bg-white/90 backdrop-blur rounded-xl p-6 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Distance from Campus"}),e.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:b?`${(b/1e3).toFixed(2)} km`:"--"}),b&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:b<=500?" Near Campus":" Far from Campus"})]}),e.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:e.jsx(ke,{className:"w-6 h-6 text-orange-600"})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white/90 backdrop-blur rounded-xl p-6 shadow-lg",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center space-x-2",children:[e.jsx(Wn,{className:"w-5 h-5 text-purple-600"}),e.jsx("span",{children:"Location & Check-in"})]})}),c?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Your Current Location"}),e.jsxs("p",{className:"font-mono text-sm mb-2",children:["Lat: ",c.latitude.toFixed(6),", Lng: ",c.longitude.toFixed(6)]}),b&&e.jsx("div",{className:"mt-2 p-2 bg-blue-50 rounded",children:e.jsxs("p",{className:"text-xs text-blue-700",children:[e.jsx("span",{className:"font-semibold",children:"Distance:"})," ",b.toFixed(0)," meters (",b<=500?"Within campus range":"Outside campus range",")"]})})]}),e.jsxs("button",{onClick:w,className:"w-full bg-gradient-to-r from-purple-500 to-blue-600 text-white py-3 rounded-lg font-semibold hover:from-purple-600 hover:to-blue-700 transition-all flex items-center justify-center space-x-2",children:[e.jsx(fe,{className:"w-5 h-5"}),e.jsx("span",{children:"Check In to Campus"})]}),e.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Campus coordinates: 12.9716N, 77.5946E (Update in Dashboard.jsx)"})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsx("button",{onClick:g,className:"w-full bg-gray-200 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-300 transition-all",children:"Enable Location Services"}),e.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Location access is required for check-in functionality"})]}),d.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Nearby Users (within 5km)"}),e.jsx("div",{className:"space-y-2",children:d.slice(0,5).map((j,f)=>{var S;return e.jsxs("div",{className:"flex items-center space-x-3 bg-gray-50 rounded-lg p-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-500 to-blue-600 rounded-full flex items-center justify-center text-white font-semibold text-sm",children:(S=j.name)==null?void 0:S.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-800",children:j.name}),e.jsx("p",{className:"text-xs text-gray-500 capitalize",children:j.role})]})]},f)})})]})]}),r&&e.jsx(ul,{schedule:r})]}),e.jsx("div",{className:"space-y-6",children:n.length>0&&e.jsxs("div",{className:"bg-white/90 backdrop-blur rounded-xl p-6 shadow-lg",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Recent Alerts"}),e.jsx("div",{className:"space-y-3",children:n.map((j,f)=>e.jsx(Xs,{notification:j},f))})]})})]})]})]})}function hl({booking:t,onCancel:s}){const r=a=>{switch(a){case"confirmed":return"bg-green-100 text-green-700 border-green-300";case"pending":return"bg-yellow-100 text-yellow-700 border-yellow-300";case"cancelled":return"bg-red-100 text-red-700 border-red-300";default:return"bg-gray-100 text-gray-700 border-gray-300"}};return e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-md border-l-4 border-purple-500",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(ke,{className:"w-5 h-5 text-purple-600"}),e.jsx("h3",{className:"text-lg font-bold text-gray-800",children:t.resource})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[e.jsx(J,{className:"w-4 h-4"}),e.jsx("span",{children:new Date(t.date).toLocaleDateString()})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[e.jsx(Ue,{className:"w-4 h-4"}),e.jsxs("span",{children:[t.from," - ",t.to]})]})]})]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold border ${r(t.status)}`,children:t.status})]}),t.status==="confirmed"&&s&&e.jsxs("button",{onClick:()=>s(t._id),className:"mt-4 w-full bg-red-500 text-white py-2 rounded-lg hover:bg-red-600 transition-colors flex items-center justify-center space-x-2",children:[e.jsx(we,{className:"w-4 h-4"}),e.jsx("span",{children:"Cancel Booking"})]})]})}function pl({user:t,onLogout:s}){const[r,a]=h.useState([]),[n,o]=h.useState(!0),[l,i]=h.useState(!1),[c,m]=h.useState({resource:"",date:"",from:"",to:""});h.useEffect(()=>{d()},[]);const d=async()=>{try{const y=await E.get("/booking/my");a(y.data.bookings||[])}catch{N.error("Failed to load bookings")}finally{o(!1)}},u=async y=>{var p,g;y.preventDefault();try{await E.post("/booking",c),N.success("Booking created successfully!"),i(!1),m({resource:"",date:"",from:"",to:""}),d()}catch(w){N.error(((g=(p=w.response)==null?void 0:p.data)==null?void 0:g.message)||"Failed to create booking")}},b=async y=>{var p,g;if(window.confirm("Are you sure you want to cancel this booking?"))try{await E.patch(`/booking/${y}/cancel`),N.success("Booking cancelled successfully"),d()}catch(w){N.error(((g=(p=w.response)==null?void 0:p.data)==null?void 0:g.message)||"Failed to cancel booking")}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-500 via-blue-500 to-indigo-600",children:[e.jsx(W,{user:t,onLogout:s}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Resource Bookings"}),e.jsx("p",{className:"text-white/80",children:"Manage your campus resource bookings"})]}),e.jsxs("button",{onClick:()=>i(!l),className:"bg-white text-purple-600 px-6 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-all flex items-center space-x-2 shadow-lg",children:[e.jsx(nt,{className:"w-5 h-5"}),e.jsx("span",{children:"New Booking"})]})]}),l&&e.jsxs("div",{className:"bg-white/90 backdrop-blur rounded-xl p-6 shadow-lg mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Create New Booking"}),e.jsxs("form",{onSubmit:u,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Resource"}),e.jsxs("div",{className:"relative",children:[e.jsx(ke,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",required:!0,value:c.resource,onChange:y=>m({...c,resource:y.target.value}),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",placeholder:"e.g., Library Room 101"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),e.jsxs("div",{className:"relative",children:[e.jsx(J,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"date",required:!0,value:c.date,onChange:y=>m({...c,date:y.target.value}),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",min:new Date().toISOString().split("T")[0]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"From Time"}),e.jsx("input",{type:"time",required:!0,value:c.from,onChange:y=>m({...c,from:y.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"To Time"}),e.jsx("input",{type:"time",required:!0,value:c.to,onChange:y=>m({...c,to:y.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]}),e.jsxs("div",{className:"md:col-span-2 flex space-x-4",children:[e.jsx("button",{type:"submit",className:"flex-1 bg-gradient-to-r from-purple-500 to-blue-600 text-white py-3 rounded-lg font-semibold hover:from-purple-600 hover:to-blue-700 transition-all",children:"Create Booking"}),e.jsx("button",{type:"button",onClick:()=>i(!1),className:"flex-1 bg-gray-200 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-300 transition-all",children:"Cancel"})]})]})]}),n?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white"})}):r.length===0?e.jsxs("div",{className:"bg-white/90 backdrop-blur rounded-xl p-12 text-center shadow-lg",children:[e.jsx(J,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"No Bookings Yet"}),e.jsx("p",{className:"text-gray-600",children:"Create your first booking to get started"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(y=>e.jsx(hl,{booking:y,onCancel:b},y._id))})]})]})}function gl({mentor:t,onRequest:s}){var r,a;return e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-md border-l-4 border-blue-500",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold text-xl",children:((r=t.name)==null?void 0:r.charAt(0).toUpperCase())||"M"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:t.name}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[e.jsx(Ft,{className:"w-4 h-4"}),e.jsxs("span",{className:"text-sm",children:["ID: ",t.userId]})]}),((a=t.profile)==null?void 0:a.college)&&e.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[e.jsx(Ot,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:t.profile.college})]})]})]})]}),s&&e.jsx("button",{onClick:()=>s(t._id),className:"mt-4 w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-2 rounded-lg hover:from-blue-600 hover:to-purple-700 transition-all",children:"Request Mentor"})]})}function fl({user:t,onLogout:s}){const[r,a]=h.useState(null),[n,o]=h.useState([]),[l,i]=h.useState(!0);h.useEffect(()=>{(t==null?void 0:t.role)==="student"?c():(t==null?void 0:t.role)==="mentor"&&m()},[t]);const c=async()=>{try{const u=await E.get("/mentor/my-mentor");u.data.mentor&&a(u.data.mentor)}catch{console.log("No mentor assigned")}finally{i(!1)}},m=async()=>{try{const u=await E.get("/mentor/my-mentees");o(u.data.mentees||[])}catch{N.error("Failed to load mentees")}finally{i(!1)}},d=async()=>{var u,b;try{const y=await E.post("/mentor/request");a(y.data),N.success(`Mentor assigned: ${y.data.mentorName}`)}catch(y){N.error(((b=(u=y.response)==null?void 0:u.data)==null?void 0:b.message)||"Failed to request mentor")}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-500 via-blue-500 to-indigo-600",children:[e.jsx(W,{user:t,onLogout:s}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(t==null?void 0:t.role)==="student"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"My Mentor"}),e.jsx("p",{className:"text-white/80",children:"Connect with your assigned mentor"})]}),l?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white"})}):r?e.jsxs("div",{className:"bg-white/90 backdrop-blur rounded-xl p-6 shadow-lg",children:[e.jsx(gl,{mentor:r}),e.jsx("div",{className:"mt-4 flex space-x-4",children:e.jsx(K,{to:"/sessions",className:"flex-1 bg-gradient-to-r from-purple-500 to-blue-600 text-white py-3 rounded-lg font-semibold hover:from-purple-600 hover:to-blue-700 transition-all text-center",children:"Schedule Session"})})]}):e.jsxs("div",{className:"bg-white/90 backdrop-blur rounded-xl p-12 text-center shadow-lg",children:[e.jsx(ve,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"No Mentor Assigned"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Request a mentor to get personalized support"}),e.jsxs("button",{onClick:d,className:"bg-gradient-to-r from-purple-500 to-blue-600 text-white px-8 py-3 rounded-lg font-semibold hover:from-purple-600 hover:to-blue-700 transition-all flex items-center space-x-2 mx-auto",children:[e.jsx(Js,{className:"w-5 h-5"}),e.jsx("span",{children:"Request Mentor"})]})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"My Mentees"}),e.jsx("p",{className:"text-white/80",children:"Students assigned to you"})]}),l?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white"})}):n.length===0?e.jsxs("div",{className:"bg-white/90 backdrop-blur rounded-xl p-12 text-center shadow-lg",children:[e.jsx(Yn,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"No Mentees Yet"}),e.jsx("p",{className:"text-gray-600",children:"Students will be assigned to you as they request mentors"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(u=>{var b,y,p,g;return e.jsxs("div",{className:"bg-white/90 backdrop-blur rounded-xl p-6 shadow-lg",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-blue-600 rounded-full flex items-center justify-center text-white font-bold text-xl",children:((b=u.name)==null?void 0:b.charAt(0).toUpperCase())||"S"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:u.name}),e.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:["ID: ",u.userId]}),((y=u.profile)==null?void 0:y.college)&&e.jsx("p",{className:"text-sm text-gray-600",children:u.profile.college}),((p=u.profile)==null?void 0:p.year)&&e.jsxs("p",{className:"text-sm text-gray-600",children:["Year ",u.profile.year]}),((g=u.profile)==null?void 0:g.homeTown)&&e.jsxs("p",{className:"text-sm text-gray-600",children:["From: ",u.profile.homeTown]})]})]}),(t==null?void 0:t.role)==="admin"&&e.jsx("div",{className:"mt-4 flex space-x-2",children:e.jsx(K,{to:`/admin/student-performance/${u.userId}`,className:"flex-1 bg-blue-500 text-white py-2 rounded-lg font-semibold hover:bg-blue-600 transition-all text-center text-sm",children:"View Performance"})})]},u._id)})})]})})]})}function bl({user:t,onLogout:s}){const[r,a]=h.useState([]),[n,o]=h.useState(!0),[l,i]=h.useState("all"),[c,m]=h.useState(0);h.useEffect(()=>{d()},[l]);const d=async()=>{try{const y=new URLSearchParams;l==="unread"&&y.append("status","unread"),l==="read"&&y.append("status","read");const p=y.toString(),g=await E.get(`/notification${p?`?${p}`:""}`),w=g.data.notifications||[];a(w),m(g.data.unreadCount??0)}catch{N.error("Failed to load notifications")}finally{o(!1)}},u=async()=>{try{await E.patch("/notification/actions/mark-all-read"),N.success("All notifications marked as read"),m(0),d()}catch{N.error("Failed to mark notifications as read")}},b=async y=>{try{await E.patch(`/notification/${y}/read`),a(p=>p.map(g=>g._id===y?{...g,read:!0}:g)),m(p=>Math.max(p-1,0))}catch{N.error("Failed to update notification")}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-500 via-blue-500 to-indigo-600",children:[e.jsx(W,{user:t,onLogout:s}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-white mb-1",children:"Notifications"}),e.jsx("p",{className:"text-white/80 text-sm sm:text-base",children:"Stay updated with important alerts tailored to your role"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3",children:[e.jsxs("div",{className:"flex items-center bg-white/90 backdrop-blur px-3 py-2 rounded-lg shadow-lg",children:[e.jsx(Hn,{className:"w-4 h-4 text-purple-500 mr-2"}),e.jsxs("select",{value:l,onChange:y=>{o(!0),i(y.target.value)},className:"bg-transparent text-sm font-semibold text-purple-700 focus:outline-none",children:[e.jsx("option",{value:"all",children:"All"}),e.jsx("option",{value:"unread",children:"Unread"}),e.jsx("option",{value:"read",children:"Read"})]})]}),r.length>0&&c>0&&e.jsxs("button",{onClick:u,className:"bg-white text-purple-600 px-5 py-2.5 rounded-lg font-semibold hover:bg-gray-100 transition-all flex items-center justify-center space-x-2 shadow-lg",children:[e.jsx(fe,{className:"w-5 h-5"}),e.jsx("span",{children:"Mark All Read"})]})]})]}),n?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white"})}):r.length===0?e.jsxs("div",{className:"bg-white/90 backdrop-blur rounded-xl p-12 text-center shadow-lg",children:[e.jsx(Ee,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"No Notifications"}),e.jsx("p",{className:"text-gray-600",children:"You're all caught up!"})]}):e.jsx("div",{className:"space-y-4",children:r.map((y,p)=>e.jsx(Xs,{notification:y,onMarkRead:()=>!y.read&&b(y._id)},y._id||p))})]})]})}const ms=["#8b5cf6","#3b82f6","#10b981","#f59e0b","#ef4444"];function yl({user:t,onLogout:s}){var _t,Ut;const[r,a]=h.useState(null),[n,o]=h.useState(null),[l,i]=h.useState(null),[c,m]=h.useState(null),[d,u]=h.useState(null),[b,y]=h.useState([]),[p,g]=h.useState([]),[w,C]=h.useState([]),[j,f]=h.useState(!0),[S,M]=h.useState("dashboard"),[A,P]=h.useState({studentId:"",mentorId:""}),[v,T]=h.useState([]),[I,U]=h.useState([]),[R,O]=h.useState({title:"",body:"",targetRole:"all",type:"general"}),[_,z]=h.useState(!1),[$,se]=h.useState([]),[Q,G]=h.useState({});h.useEffect(()=>{ue()},[]);const ue=async()=>{try{const[k,F,q,B,Y,Ce,er,tr,sr]=await Promise.all([E.get("/analytics/engagement?days=30"),E.get("/analytics/checkins?days=30"),E.get("/analytics/users"),E.get("/analytics/bookings?days=30"),E.get("/analytics/mentors"),E.get("/holiday/pending"),E.get("/admin/deletion-requests"),E.get("/admin/low-engagers"),E.get("/admin/leisure-requests?status=pending")]);let It,$t;try{It=await E.get("/admin/users?role=student"),$t=await E.get("/admin/users?role=mentor"),T(It.data.users||[]),U($t.data.users||[])}catch(rr){console.error("Failed to fetch users:",rr)}a(k.data),o(F.data),i(q.data),m(B.data),u(Y.data),y(Ce.data.requests||[]),g(er.data.users||[]),C(tr.data.lowEngagers||[]),se(sr.data.requests||[])}catch{N.error("Failed to load admin data")}finally{f(!1)}},ne=async k=>{var F,q;k.preventDefault();try{await E.post("/admin/assign-mentor",A),N.success("Mentor assigned successfully!"),P({studentId:"",mentorId:""}),ue()}catch(B){N.error(((q=(F=B.response)==null?void 0:F.data)==null?void 0:q.message)||"Failed to assign mentor")}},ie=async(k,F,q="")=>{try{await E.patch(`/holiday/${k}/review`,{status:F,reviewComment:q}),N.success(`Holiday request ${F} successfully`),ue()}catch{N.error("Failed to review request")}},Oe=async k=>{if(window.confirm("Are you sure you want to permanently delete this account?"))try{await E.delete(`/profile/${k}`),N.success("Account deleted successfully"),ue()}catch{N.error("Failed to delete account")}},Se=async k=>{var F,q;if(k.preventDefault(),!R.title||!R.body){N.error("Title and message are required");return}z(!0);try{const B={title:R.title,body:R.body,type:R.type||"general"};R.targetRole&&R.targetRole!=="all"&&(B.targetRole=R.targetRole),await E.post("/notification/broadcast",B),N.success("Notification sent successfully"),O({title:"",body:"",targetRole:"all",type:"general"})}catch(B){N.error(((q=(F=B.response)==null?void 0:F.data)==null?void 0:q.message)||"Failed to send notification")}finally{z(!1)}},Ie=async k=>{var F,q;try{await E.post(`/leisure/${k}/approve`,{assignedStudents:Q[k]||[]}),N.success("Leisure hours approved"),G(B=>{const Y={...B};return delete Y[k],Y}),ue()}catch(B){N.error(((q=(F=B.response)==null?void 0:F.data)==null?void 0:q.message)||"Failed to approve request")}},Zs=async k=>{var q,B;const F=window.prompt("Optional note to the mentor:")||"";try{await E.post(`/leisure/${k}/reject`,F?{adminNotes:F}:{}),N.success("Leisure hours rejected"),G(Y=>{const Ce={...Y};return delete Ce[k],Ce}),ue()}catch(Y){N.error(((B=(q=Y.response)==null?void 0:q.data)==null?void 0:B.message)||"Failed to reject request")}},Qs=(k,F)=>{G(q=>{const B=q[k]||[],Y=B.includes(F)?B.filter(Ce=>Ce!==F):[...B,F];return{...q,[k]:Y}})};return j?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-500 via-blue-500 to-indigo-600",children:[e.jsx(W,{user:t,onLogout:s}),e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white"})})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-500 via-blue-500 to-indigo-600",children:[e.jsx(W,{user:t,onLogout:s}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Admin Dashboard"}),e.jsx("p",{className:"text-white/80",children:"Complete platform management and analytics"})]}),e.jsxs("div",{className:"flex space-x-4 mb-6 bg-white/10 backdrop-blur rounded-lg p-2",children:[e.jsx("button",{onClick:()=>M("dashboard"),className:`flex-1 px-4 py-2 rounded-lg font-semibold transition-all ${S==="dashboard"?"bg-white text-purple-600":"text-white hover:bg-white/20"}`,children:"Analytics"}),e.jsx("button",{onClick:()=>M("mentors"),className:`flex-1 px-4 py-2 rounded-lg font-semibold transition-all ${S==="mentors"?"bg-white text-purple-600":"text-white hover:bg-white/20"}`,children:"Mentor Management"}),e.jsx("button",{onClick:()=>M("notifications"),className:`flex-1 px-4 py-2 rounded-lg font-semibold transition-all ${S==="notifications"?"bg-white text-purple-600":"text-white hover:bg-white/20"}`,children:"Broadcast Alerts"}),e.jsxs("button",{onClick:()=>M("holidays"),className:`flex-1 px-4 py-2 rounded-lg font-semibold transition-all ${S==="holidays"?"bg-white text-purple-600":"text-white hover:bg-white/20"}`,children:["Holiday Requests (",b.length,")"]}),e.jsxs("button",{onClick:()=>M("leisure"),className:`flex-1 px-4 py-2 rounded-lg font-semibold transition-all ${S==="leisure"?"bg-white text-purple-600":"text-white hover:bg-white/20"}`,children:["Leisure Approvals (",$.length,")"]}),e.jsx("button",{onClick:()=>M("users"),className:`flex-1 px-4 py-2 rounded-lg font-semibold transition-all ${S==="users"?"bg-white text-purple-600":"text-white hover:bg-white/20"}`,children:"User Management"})]}),S==="dashboard"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white/90 backdrop-blur rounded-xl p-6 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Total Events"}),e.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:(r==null?void 0:r.totalEvents)||0})]}),e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx(Dt,{className:"w-6 h-6 text-purple-600"})})]})}),e.jsx("div",{className:"bg-white/90 backdrop-blur rounded-xl p-6 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Active Users"}),e.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:(r==null?void 0:r.activeUsers)||0})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(ve,{className:"w-6 h-6 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white/90 backdrop-blur rounded-xl p-6 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Total Bookings"}),e.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:((_t=c==null?void 0:c.dailyBookings)==null?void 0:_t.reduce((k,F)=>k+F.count,0))||0})]}),e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(J,{className:"w-6 h-6 text-green-600"})})]})}),e.jsx("div",{className:"bg-white/90 backdrop-blur rounded-xl p-6 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Active Matches"}),e.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:(d==null?void 0:d.activeMatches)||0})]}),e.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:e.jsx(ke,{className:"w-6 h-6 text-orange-600"})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-white/90 backdrop-blur rounded-xl p-6 shadow-lg",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center space-x-2",children:[e.jsx(qn,{className:"w-5 h-5 text-purple-600"}),e.jsx("span",{children:"Daily Engagement"})]}),e.jsx($e,{width:"100%",height:300,children:e.jsxs(ir,{data:(r==null?void 0:r.dailyEngagement)||[],children:[e.jsx(ot,{strokeDasharray:"3 3"}),e.jsx(it,{dataKey:"_id"}),e.jsx(ct,{}),e.jsx(qe,{}),e.jsx(dt,{}),e.jsx(cr,{type:"monotone",dataKey:"count",stroke:"#8b5cf6",strokeWidth:2})]})})]}),e.jsxs("div",{className:"bg-white/90 backdrop-blur rounded-xl p-6 shadow-lg",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Event Types"}),e.jsx($e,{width:"100%",height:300,children:e.jsxs(dr,{children:[e.jsx(mr,{data:(r==null?void 0:r.eventTypes)||[],cx:"50%",cy:"50%",labelLine:!1,label:({name:k,percent:F})=>`${k} ${(F*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"count",children:((r==null?void 0:r.eventTypes)||[]).map((k,F)=>e.jsx(ur,{fill:ms[F%ms.length]},`cell-${F}`))}),e.jsx(qe,{})]})})]}),e.jsxs("div",{className:"bg-white/90 backdrop-blur rounded-xl p-6 shadow-lg",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Daily Check-ins"}),e.jsx($e,{width:"100%",height:300,children:e.jsxs(Bt,{data:(n==null?void 0:n.dailyCheckIns)||[],children:[e.jsx(ot,{strokeDasharray:"3 3"}),e.jsx(it,{dataKey:"_id"}),e.jsx(ct,{}),e.jsx(qe,{}),e.jsx(dt,{}),e.jsx(Ht,{dataKey:"count",fill:"#3b82f6"})]})})]}),e.jsxs("div",{className:"bg-white/90 backdrop-blur rounded-xl p-6 shadow-lg",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Users by Role"}),e.jsx($e,{width:"100%",height:300,children:e.jsxs(Bt,{data:(l==null?void 0:l.usersByRole)||[],children:[e.jsx(ot,{strokeDasharray:"3 3"}),e.jsx(it,{dataKey:"_id"}),e.jsx(ct,{}),e.jsx(qe,{}),e.jsx(dt,{}),e.jsx(Ht,{dataKey:"count",fill:"#10b981"})]})})]})]})]}),S==="mentors"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white/90 backdrop-blur rounded-xl p-6 shadow-lg",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center space-x-2",children:[e.jsx(lt,{className:"w-5 h-5 text-purple-600"}),e.jsx("span",{children:"Assign Mentor to Student"})]}),e.jsxs("form",{onSubmit:ne,className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Student"}),e.jsxs("select",{required:!0,value:A.studentId,onChange:k=>P({...A,studentId:k.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",children:[e.jsx("option",{value:"",children:"Select Student"}),v.map(k=>e.jsxs("option",{value:k.userId,children:[k.name," (",k.userId,")"]},k._id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mentor"}),e.jsxs("select",{required:!0,value:A.mentorId,onChange:k=>P({...A,mentorId:k.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",children:[e.jsx("option",{value:"",children:"Select Mentor"}),I.map(k=>e.jsxs("option",{value:k.userId,children:[k.name," (",k.userId,")"]},k._id))]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-purple-500 to-blue-600 text-white py-3 rounded-lg font-semibold hover:from-purple-600 hover:to-blue-700 transition-all",children:"Assign Mentor"})})]})]}),(d==null?void 0:d.topMentors)&&d.topMentors.length>0&&e.jsxs("div",{className:"bg-white/90 backdrop-blur rounded-xl p-6 shadow-lg",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Top Mentors"}),e.jsx("div",{className:"space-y-3",children:d.topMentors.map((k,F)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-800",children:k.mentorName}),e.jsx("p",{className:"text-sm text-gray-600",children:k.mentorId})]}),e.jsxs("span",{className:"bg-purple-100 text-purple-700 px-3 py-1 rounded-full text-sm font-semibold",children:[k.menteeCount," mentees"]})]},F))})]}),w.length>0&&e.jsxs("div",{className:"bg-white/90 backdrop-blur rounded-xl p-6 shadow-lg",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Low Engagement Students"}),e.jsx("div",{className:"space-y-2",children:w.map(k=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-yellow-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-800",children:k.name}),e.jsx("p",{className:"text-sm text-gray-600",children:k.userId})]}),e.jsx("span",{className:"text-yellow-700 text-sm font-semibold",children:"Needs Attention"})]},k._id))})]})]}),S==="notifications"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white/90 backdrop-blur rounded-xl p-6 shadow-lg",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Send Platform Alert"}),e.jsxs("form",{onSubmit:Se,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),e.jsx("input",{type:"text",required:!0,value:R.title,onChange:k=>O({...R,title:k.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message"}),e.jsx("textarea",{required:!0,rows:5,value:R.body,onChange:k=>O({...R,body:k.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",placeholder:"Share important updates, deadlines, or announcements"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Audience"}),e.jsxs("select",{value:R.targetRole,onChange:k=>O({...R,targetRole:k.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",children:[e.jsx("option",{value:"all",children:"All Users"}),e.jsx("option",{value:"student",children:"Students"}),e.jsx("option",{value:"mentor",children:"Mentors"}),e.jsx("option",{value:"admin",children:"Admins"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notification Type"}),e.jsxs("select",{value:R.type,onChange:k=>O({...R,type:k.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",children:[e.jsx("option",{value:"general",children:"General"}),e.jsx("option",{value:"assignment",children:"Assignment"}),e.jsx("option",{value:"holiday",children:"Holiday"}),e.jsx("option",{value:"mentor",children:"Mentor"}),e.jsx("option",{value:"timetable",children:"Timetable"}),e.jsx("option",{value:"club",children:"Club"})]})]})]}),e.jsx("button",{type:"submit",disabled:_,className:"w-full bg-gradient-to-r from-purple-500 to-blue-600 text-white py-3 rounded-lg font-semibold hover:from-purple-600 hover:to-blue-700 transition-all disabled:opacity-60",children:_?"Sending...":"Send Notification"})]})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur rounded-xl p-6 shadow-lg",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Recent Tips"}),e.jsxs("ul",{className:"space-y-3 text-sm text-gray-700",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"mt-1 text-purple-600",children:""}),e.jsx("span",{children:"Use role targeting to deliver the right message to students, mentors, or admins."})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"mt-1 text-purple-600",children:""}),e.jsx("span",{children:"Leverage notification types to group alerts on the dashboard."})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"mt-1 text-purple-600",children:""}),e.jsx("span",{children:"Combine broadcast alerts with leisure approvals to keep mentees informed."})]})]})]})]}),S==="holidays"&&e.jsx("div",{className:"space-y-4",children:b.length===0?e.jsxs("div",{className:"bg-white/90 backdrop-blur rounded-xl p-12 text-center shadow-lg",children:[e.jsx(J,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"No Pending Requests"})]}):b.map(k=>{var F;return e.jsx("div",{className:"bg-white/90 backdrop-blur rounded-xl p-6 shadow-lg",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Student: ",e.jsx("span",{className:"font-semibold",children:((F=k.student)==null?void 0:F.name)||"Unknown"})]}),e.jsx("div",{className:"flex items-center space-x-4 mb-2",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(J,{className:"w-5 h-5 text-purple-600"}),e.jsxs("span",{className:"font-semibold",children:[new Date(k.startDate).toLocaleDateString()," - ",new Date(k.endDate).toLocaleDateString()]})]})}),e.jsx("p",{className:"text-gray-700 mb-2",children:k.reason})]}),e.jsxs("div",{className:"flex space-x-2 ml-4",children:[e.jsxs("button",{onClick:()=>ie(k._id,"approved"),className:"bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-all flex items-center space-x-2",children:[e.jsx(fe,{className:"w-4 h-4"}),e.jsx("span",{children:"Approve"})]}),e.jsxs("button",{onClick:()=>{const q=prompt("Rejection reason (optional):");ie(k._id,"rejected",q)},className:"bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-all flex items-center space-x-2",children:[e.jsx(we,{className:"w-4 h-4"}),e.jsx("span",{children:"Reject"})]})]})]})},k._id)})}),S==="leisure"&&e.jsx("div",{className:"space-y-4",children:$.length===0?e.jsxs("div",{className:"bg-white/90 backdrop-blur rounded-xl p-12 text-center shadow-lg",children:[e.jsx(J,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"No Pending Leisure Requests"}),e.jsx("p",{className:"text-gray-600",children:"Mentors are up to date with their schedules."})]}):$.map(k=>{var F,q,B;return e.jsxs("div",{className:"bg-white/90 backdrop-blur rounded-xl p-6 shadow-lg",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Mentor"}),e.jsx("h3",{className:"text-lg font-bold text-gray-800",children:((F=k.mentor)==null?void 0:F.name)||((q=k.mentor)==null?void 0:q.userId)}),e.jsx("p",{className:"text-sm text-gray-500 mb-2",children:(B=k.mentor)==null?void 0:B.userId}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600",children:[e.jsxs("span",{className:"font-semibold flex items-center gap-2",children:[e.jsx(J,{className:"w-4 h-4 text-purple-600"}),new Date(k.date).toLocaleDateString()]}),e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-purple-600"}),k.startTime," - ",k.endTime]})]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assign Students for Sessions"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 max-h-44 overflow-y-auto p-3 border border-gray-200 rounded-lg bg-gray-50",children:v.length===0?e.jsx("p",{className:"text-sm text-gray-500",children:"No students available to assign."}):v.map(Y=>e.jsxs("label",{className:"flex items-center space-x-2 text-sm text-gray-700",children:[e.jsx("input",{type:"checkbox",className:"rounded text-purple-600 focus:ring-purple-500",checked:(Q[k._id]||[]).includes(Y._id),onChange:()=>Qs(k._id,Y._id)}),e.jsxs("span",{className:"truncate",children:[Y.name,e.jsxs("span",{className:"text-gray-400",children:[" (",Y.userId,")"]})]})]},Y._id))}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Select the students who should receive timetable slots during this leisure window."})]})]}),e.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row sm:items-center sm:justify-end gap-2",children:[e.jsxs("button",{onClick:()=>Ie(k._id),className:"inline-flex items-center justify-center space-x-2 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-all",children:[e.jsx(fe,{className:"w-4 h-4"}),e.jsx("span",{children:"Approve & Notify"})]}),e.jsxs("button",{onClick:()=>Zs(k._id),className:"inline-flex items-center justify-center space-x-2 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-all",children:[e.jsx(we,{className:"w-4 h-4"}),e.jsx("span",{children:"Reject"})]})]})]},k._id)})}),S==="users"&&e.jsxs("div",{className:"space-y-6",children:[p.length>0&&e.jsxs("div",{className:"bg-white/90 backdrop-blur rounded-xl p-6 shadow-lg",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center space-x-2",children:[e.jsx(Pt,{className:"w-5 h-5 text-red-600"}),e.jsxs("span",{children:["Account Deletion Requests (",p.length,")"]})]}),e.jsx("div",{className:"space-y-3",children:p.map(k=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-red-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-800",children:k.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:[k.email," - ",k.userId]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Requested: ",new Date(k.deletedAt).toLocaleDateString()]})]}),e.jsx("button",{onClick:()=>Oe(k._id),className:"bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-all",children:"Delete Account"})]},k._id))})]}),e.jsxs("div",{className:"bg-white/90 backdrop-blur rounded-xl p-6 shadow-lg",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"All Users"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:(Ut=l==null?void 0:l.usersByRole)==null?void 0:Ut.map(k=>e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-800",children:k.count}),e.jsxs("p",{className:"text-gray-600 capitalize",children:[k._id,"s"]})]},k._id))})]})]})]})]})}function jl({user:t,onLogout:s}){const[r,a]=h.useState([]),[n,o]=h.useState([]),[l,i]=h.useState(!0),[c,m]=h.useState("all");h.useEffect(()=>{d(),(t==null?void 0:t.role)==="student"&&u()},[]);const d=async()=>{try{const g=await E.get("/club");a(g.data.clubs||[])}catch{N.error("Failed to load clubs")}finally{i(!1)}},u=async()=>{try{const g=await E.get("/club/my/memberships");o(g.data.clubs||[])}catch{console.error("Failed to load my clubs")}},b=async g=>{var w,C;try{await E.post(`/club/${g}/join`),N.success("Successfully joined club!"),d(),u()}catch(j){N.error(((C=(w=j.response)==null?void 0:w.data)==null?void 0:C.message)||"Failed to join club")}},y=async g=>{if(window.confirm("Are you sure you want to leave this club?"))try{await E.post(`/club/${g}/leave`),N.success("Left club successfully"),d(),u()}catch{N.error("Failed to leave club")}},p=c==="my"?n:r;return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-500 via-blue-500 to-indigo-600",children:[e.jsx(W,{user:t,onLogout:s}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Student Clubs"}),e.jsx("p",{className:"text-white/80",children:"Join clubs and connect with peers"})]}),(t==null?void 0:t.role)==="student"&&e.jsxs("div",{className:"flex space-x-4 mb-6",children:[e.jsx("button",{onClick:()=>m("all"),className:`px-6 py-2 rounded-lg font-semibold transition-all ${c==="all"?"bg-white text-purple-600":"bg-white/20 text-white hover:bg-white/30"}`,children:"All Clubs"}),e.jsxs("button",{onClick:()=>m("my"),className:`px-6 py-2 rounded-lg font-semibold transition-all ${c==="my"?"bg-white text-purple-600":"bg-white/20 text-white hover:bg-white/30"}`,children:["My Clubs (",n.length,")"]})]}),l?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white"})}):p.length===0?e.jsxs("div",{className:"bg-white/90 backdrop-blur rounded-xl p-12 text-center shadow-lg",children:[e.jsx(ve,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"No Clubs Available"}),e.jsx("p",{className:"text-gray-600",children:"Check back later for new clubs"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map(g=>{const w=n.some(C=>C._id===g._id);return e.jsxs("div",{className:"bg-white/90 backdrop-blur rounded-xl p-6 shadow-lg",children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:g.name}),e.jsx("p",{className:"text-gray-600 text-sm mb-3",children:g.description}),e.jsx("span",{className:"inline-block px-3 py-1 bg-purple-100 text-purple-700 text-xs rounded-full",children:g.category})]})}),g.meetingSchedule&&e.jsxs("div",{className:"space-y-2 mb-4 text-sm text-gray-600",children:[g.meetingSchedule.day&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(J,{className:"w-4 h-4"}),e.jsxs("span",{children:[g.meetingSchedule.day," at ",g.meetingSchedule.time]})]}),g.meetingSchedule.location&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ke,{className:"w-4 h-4"}),e.jsx("span",{children:g.meetingSchedule.location})]})]}),(t==null?void 0:t.role)==="student"&&e.jsx("button",{onClick:()=>w?y(g._id):b(g._id),className:`w-full py-2 rounded-lg font-semibold transition-all ${w?"bg-red-500 text-white hover:bg-red-600":"bg-gradient-to-r from-purple-500 to-blue-600 text-white hover:from-purple-600 hover:to-blue-700"}`,children:w?"Leave Club":"Join Club"})]},g._id)})})]})]})}function wl({user:t,onLogout:s}){const[r,a]=h.useState([]),[n,o]=h.useState([]),[l,i]=h.useState(!0),[c,m]=h.useState(!1),[d,u]=h.useState({startDate:"",endDate:"",reason:""});h.useEffect(()=>{(t==null?void 0:t.role)==="student"?b():(t==null?void 0:t.role)==="admin"&&y()},[t]);const b=async()=>{try{const C=await E.get("/holiday/my");a(C.data.requests||[])}catch{N.error("Failed to load holiday requests")}finally{i(!1)}},y=async()=>{try{const C=await E.get("/holiday/pending");o(C.data.requests||[])}catch{N.error("Failed to load pending requests")}finally{i(!1)}},p=async C=>{var j,f;C.preventDefault();try{await E.post("/holiday",d),N.success("Holiday request submitted successfully!"),m(!1),u({startDate:"",endDate:"",reason:""}),b()}catch(S){N.error(((f=(j=S.response)==null?void 0:j.data)==null?void 0:f.message)||"Failed to submit request")}},g=async(C,j,f="")=>{try{await E.patch(`/holiday/${C}/review`,{status:j,reviewComment:f}),N.success(`Request ${j} successfully`),y()}catch{N.error("Failed to review request")}},w=(t==null?void 0:t.role)==="admin"?n:r;return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-500 via-blue-500 to-indigo-600",children:[e.jsx(W,{user:t,onLogout:s}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:(t==null?void 0:t.role)==="admin"?"Holiday Requests":"My Holiday Requests"}),e.jsx("p",{className:"text-white/80",children:(t==null?void 0:t.role)==="admin"?"Review and approve holiday requests":"Request time off from campus"})]}),(t==null?void 0:t.role)==="student"&&e.jsxs("button",{onClick:()=>m(!c),className:"bg-white text-purple-600 px-6 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-all flex items-center space-x-2 shadow-lg",children:[e.jsx(nt,{className:"w-5 h-5"}),e.jsx("span",{children:"New Request"})]})]}),c&&(t==null?void 0:t.role)==="student"&&e.jsxs("div",{className:"bg-white/90 backdrop-blur rounded-xl p-6 shadow-lg mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Request Holiday"}),e.jsxs("form",{onSubmit:p,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),e.jsx("input",{type:"date",required:!0,value:d.startDate,onChange:C=>u({...d,startDate:C.target.value}),min:new Date().toISOString().split("T")[0],className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date"}),e.jsx("input",{type:"date",required:!0,value:d.endDate,onChange:C=>u({...d,endDate:C.target.value}),min:d.startDate||new Date().toISOString().split("T")[0],className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason"}),e.jsx("textarea",{required:!0,value:d.reason,onChange:C=>u({...d,reason:C.target.value}),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",placeholder:"Please provide a reason for your holiday request..."})]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{type:"submit",className:"flex-1 bg-gradient-to-r from-purple-500 to-blue-600 text-white py-3 rounded-lg font-semibold hover:from-purple-600 hover:to-blue-700 transition-all",children:"Submit Request"}),e.jsx("button",{type:"button",onClick:()=>m(!1),className:"flex-1 bg-gray-200 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-300 transition-all",children:"Cancel"})]})]})]}),l?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white"})}):w.length===0?e.jsxs("div",{className:"bg-white/90 backdrop-blur rounded-xl p-12 text-center shadow-lg",children:[e.jsx(J,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"No Requests"}),e.jsx("p",{className:"text-gray-600",children:(t==null?void 0:t.role)==="admin"?"No pending holiday requests":"You have no holiday requests"})]}):e.jsx("div",{className:"space-y-4",children:w.map(C=>{var j;return e.jsx("div",{className:"bg-white/90 backdrop-blur rounded-xl p-6 shadow-lg",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[(t==null?void 0:t.role)==="admin"&&e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Student: ",e.jsx("span",{className:"font-semibold",children:((j=C.student)==null?void 0:j.name)||"Unknown"})]}),e.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(J,{className:"w-5 h-5 text-purple-600"}),e.jsxs("span",{className:"font-semibold",children:[new Date(C.startDate).toLocaleDateString()," - ",new Date(C.endDate).toLocaleDateString()]})]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${C.status==="approved"?"bg-green-100 text-green-700":C.status==="rejected"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:C.status})]}),e.jsx("p",{className:"text-gray-700 mb-2",children:C.reason}),C.reviewComment&&e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-semibold",children:"Admin Comment:"})," ",C.reviewComment]})]}),(t==null?void 0:t.role)==="admin"&&C.status==="pending"&&e.jsxs("div",{className:"flex space-x-2 ml-4",children:[e.jsxs("button",{onClick:()=>g(C._id,"approved"),className:"bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-all flex items-center space-x-2",children:[e.jsx(fe,{className:"w-4 h-4"}),e.jsx("span",{children:"Approve"})]}),e.jsxs("button",{onClick:()=>{const f=prompt("Rejection reason (optional):");g(C._id,"rejected",f)},className:"bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-all flex items-center space-x-2",children:[e.jsx(we,{className:"w-4 h-4"}),e.jsx("span",{children:"Reject"})]})]})]})},C._id)})})]})]})}function Nl({user:t,onLogout:s}){var j,f,S,M,A,P,v,T,I,U,R;const[r,a]=h.useState(null),[n,o]=h.useState(!0),[l,i]=h.useState(!1),[c,m]=h.useState({}),[d,u]=h.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[b,y]=h.useState(!1);h.useEffect(()=>{p()},[]);const p=async()=>{var O,_,z,$,se,Q;try{const G=await E.get("/profile/me");a(G.data.user),m({name:G.data.user.name,profile:{college:((O=G.data.user.profile)==null?void 0:O.college)||"",year:((_=G.data.user.profile)==null?void 0:_.year)||"",homeTown:((z=G.data.user.profile)==null?void 0:z.homeTown)||"",phone:(($=G.data.user.profile)==null?void 0:$.phone)||"",bio:((se=G.data.user.profile)==null?void 0:se.bio)||"",commuting:((Q=G.data.user.profile)==null?void 0:Q.commuting)||!1}})}catch{N.error("Failed to load profile")}finally{o(!1)}},g=async()=>{var O,_;try{const z=await E.patch("/profile/me",c);a(z.data.user),i(!1),N.success("Profile updated successfully!")}catch(z){N.error(((_=(O=z.response)==null?void 0:O.data)==null?void 0:_.message)||"Failed to update profile")}},w=async O=>{var _,z;if(O.preventDefault(),d.newPassword!==d.confirmPassword){N.error("New passwords do not match");return}if(d.newPassword.length<8){N.error("Password must be at least 8 characters long");return}try{await E.patch("/profile/me/password",{currentPassword:d.currentPassword,newPassword:d.newPassword}),N.success("Password changed successfully!"),u({currentPassword:"",newPassword:"",confirmPassword:""}),y(!1)}catch($){N.error(((z=(_=$.response)==null?void 0:_.data)==null?void 0:z.message)||"Failed to change password")}},C=async()=>{if(window.confirm("Are you sure you want to request account deletion? This action requires admin approval."))try{await E.post("/profile/me/delete-request"),N.success("Account deletion requested. Admin approval required.")}catch{N.error("Failed to request account deletion")}};return n?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-500 via-blue-500 to-indigo-600",children:[e.jsx(W,{user:t,onLogout:s}),e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white"})})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-500 via-blue-500 to-indigo-600",children:[e.jsx(W,{user:t,onLogout:s}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"My Profile"}),e.jsx("p",{className:"text-white/80",children:"Manage your account settings"})]}),e.jsxs("div",{className:"bg-white/90 backdrop-blur rounded-xl p-6 shadow-lg mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-purple-500 to-blue-600 rounded-full flex items-center justify-center text-white font-bold text-2xl",children:((j=r==null?void 0:r.name)==null?void 0:j.charAt(0).toUpperCase())||"U"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:r==null?void 0:r.name}),e.jsx("p",{className:"text-gray-600 capitalize",children:r==null?void 0:r.role}),e.jsx("p",{className:"text-sm text-gray-500",children:r==null?void 0:r.email})]})]}),!l&&e.jsxs("button",{onClick:()=>i(!0),className:"flex items-center space-x-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-all",children:[e.jsx(Xn,{className:"w-4 h-4"}),e.jsx("span",{children:"Edit Profile"})]})]}),l?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),e.jsx("input",{type:"text",value:c.name,onChange:O=>m({...c,name:O.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"College"}),e.jsx("input",{type:"text",value:(f=c.profile)==null?void 0:f.college,onChange:O=>m({...c,profile:{...c.profile,college:O.target.value}}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Year"}),e.jsx("input",{type:"number",min:"1",max:"5",value:(S=c.profile)==null?void 0:S.year,onChange:O=>m({...c,profile:{...c.profile,year:O.target.value}}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),e.jsx("input",{type:"tel",value:(M=c.profile)==null?void 0:M.phone,onChange:O=>m({...c,profile:{...c.profile,phone:O.target.value}}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Home Town"}),e.jsx("input",{type:"text",value:(A=c.profile)==null?void 0:A.homeTown,onChange:O=>m({...c,profile:{...c.profile,homeTown:O.target.value}}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bio"}),e.jsx("textarea",{value:(P=c.profile)==null?void 0:P.bio,onChange:O=>m({...c,profile:{...c.profile,bio:O.target.value}}),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"commuting",checked:(v=c.profile)==null?void 0:v.commuting,onChange:O=>m({...c,profile:{...c.profile,commuting:O.target.checked}}),className:"w-4 h-4 text-purple-600 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"commuting",className:"ml-2 text-sm text-gray-700",children:"I am a commuting student"})]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("button",{onClick:g,className:"flex-1 bg-gradient-to-r from-purple-500 to-blue-600 text-white py-3 rounded-lg font-semibold hover:from-purple-600 hover:to-blue-700 transition-all flex items-center justify-center space-x-2",children:[e.jsx(Qn,{className:"w-4 h-4"}),e.jsx("span",{children:"Save Changes"})]}),e.jsx("button",{onClick:()=>{i(!1),p()},className:"flex-1 bg-gray-200 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-300 transition-all",children:"Cancel"})]})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Lt,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Email"}),e.jsx("p",{className:"font-semibold",children:r==null?void 0:r.email})]})]}),((T=r==null?void 0:r.profile)==null?void 0:T.phone)&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Zn,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Phone"}),e.jsx("p",{className:"font-semibold",children:r.profile.phone})]})]}),((I=r==null?void 0:r.profile)==null?void 0:I.college)&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ft,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"College"}),e.jsx("p",{className:"font-semibold",children:r.profile.college})]})]}),((U=r==null?void 0:r.profile)==null?void 0:U.homeTown)&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ke,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Home Town"}),e.jsx("p",{className:"font-semibold",children:r.profile.homeTown})]})]})]}),((R=r==null?void 0:r.profile)==null?void 0:R.bio)&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Bio"}),e.jsx("p",{className:"text-gray-800",children:r.profile.bio})]})]})]}),e.jsxs("div",{className:"bg-white/90 backdrop-blur rounded-xl p-6 shadow-lg mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-800 flex items-center space-x-2",children:[e.jsx(Tt,{className:"w-5 h-5"}),e.jsx("span",{children:"Change Password"})]}),e.jsx("button",{onClick:()=>y(!b),className:"text-purple-600 hover:text-purple-700 font-semibold",children:b?"Cancel":"Change Password"})]}),b&&e.jsxs("form",{onSubmit:w,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),e.jsx("input",{type:"password",required:!0,value:d.currentPassword,onChange:O=>u({...d,currentPassword:O.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),e.jsx("input",{type:"password",required:!0,value:d.newPassword,onChange:O=>u({...d,newPassword:O.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),e.jsx("input",{type:"password",required:!0,value:d.confirmPassword,onChange:O=>u({...d,confirmPassword:O.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]}),e.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-purple-500 to-blue-600 text-white py-3 rounded-lg font-semibold hover:from-purple-600 hover:to-blue-700 transition-all",children:"Update Password"})]})]}),e.jsxs("div",{className:"bg-white/90 backdrop-blur rounded-xl p-6 shadow-lg",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center space-x-2",children:[e.jsx(el,{className:"w-5 h-5 text-red-600"}),e.jsx("span",{children:"Danger Zone"})]}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Request account deletion. This action requires admin approval and cannot be undone."}),e.jsx("button",{onClick:C,className:"bg-red-500 text-white px-6 py-3 rounded-lg font-semibold hover:bg-red-600 transition-all",children:"Request Account Deletion"})]})]})]})}function vl(){const[t,s]=h.useState(null);h.useEffect(()=>{const o=localStorage.getItem("user");if(o)try{s(JSON.parse(o))}catch{}},[]);const r=!t||t.role==="student",a=!t||t.role==="mentor",n=!t||t.role==="admin";return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-500 via-blue-500 to-indigo-600",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-16",children:[e.jsxs("div",{className:"text-center mb-8 sm:mb-16",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-4",children:"Off-Campus Student Support Platform"}),e.jsx("p",{className:"text-lg sm:text-xl text-white/90 mb-8",children:"Your comprehensive solution for campus life management"})]}),e.jsxs("div",{className:`grid grid-cols-1 ${r&&a&&n?"md:grid-cols-3":r&&a?"md:grid-cols-2":""} gap-6 sm:gap-8 mb-8 sm:mb-12`,children:[r&&e.jsxs("div",{className:"bg-white/90 backdrop-blur rounded-2xl p-6 sm:p-8 shadow-xl",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-6",children:e.jsx(Ot,{className:"w-8 h-8 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4 text-center",children:"For Students"}),e.jsxs("ul",{className:"space-y-3 mb-6 text-gray-600",children:[e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-green-500",children:""}),e.jsx("span",{children:"Manage your schedule"})]}),e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-green-500",children:""}),e.jsx("span",{children:"Book campus resources"})]}),e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-green-500",children:""}),e.jsx("span",{children:"Join student clubs"})]}),e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-green-500",children:""}),e.jsx("span",{children:"Submit assignments"})]}),e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-green-500",children:""}),e.jsx("span",{children:"Request holidays"})]})]}),e.jsxs(K,{to:"/register",className:"block w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-3 rounded-lg font-semibold hover:from-blue-600 hover:to-purple-700 transition-all text-center flex items-center justify-center space-x-2",children:[e.jsx("span",{children:"Sign Up as Student"}),e.jsx(ht,{className:"w-4 h-4"})]}),e.jsx(K,{to:"/login",className:"block w-full mt-3 text-center text-purple-600 font-semibold hover:text-purple-700",children:"Already have an account? Sign in"})]}),a&&e.jsxs("div",{className:"bg-white/90 backdrop-blur rounded-2xl p-6 sm:p-8 shadow-xl",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-teal-600 rounded-2xl flex items-center justify-center mx-auto mb-6",children:e.jsx(Js,{className:"w-8 h-8 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4 text-center",children:"For Mentors"}),e.jsxs("ul",{className:"space-y-3 mb-6 text-gray-600",children:[e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-green-500",children:""}),e.jsx("span",{children:"Manage mentees"})]}),e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-green-500",children:""}),e.jsx("span",{children:"Create assignments"})]}),e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-green-500",children:""}),e.jsx("span",{children:"Evaluate submissions"})]}),e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-green-500",children:""}),e.jsx("span",{children:"Schedule sessions"})]}),e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-green-500",children:""}),e.jsx("span",{children:"Track engagement"})]})]}),e.jsxs(K,{to:"/register",className:"block w-full bg-gradient-to-r from-green-500 to-teal-600 text-white py-3 rounded-lg font-semibold hover:from-green-600 hover:to-teal-700 transition-all text-center flex items-center justify-center space-x-2",children:[e.jsx("span",{children:"Sign Up as Mentor"}),e.jsx(ht,{className:"w-4 h-4"})]}),e.jsx(K,{to:"/login",className:"block w-full mt-3 text-center text-green-600 font-semibold hover:text-green-700",children:"Already have an account? Sign in"})]}),n&&e.jsxs("div",{className:"bg-white/90 backdrop-blur rounded-2xl p-6 sm:p-8 shadow-xl",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-red-500 to-orange-600 rounded-2xl flex items-center justify-center mx-auto mb-6",children:e.jsx(Pt,{className:"w-8 h-8 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4 text-center",children:"For Administrators"}),e.jsxs("ul",{className:"space-y-3 mb-6 text-gray-600",children:[e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-green-500",children:""}),e.jsx("span",{children:"Analytics dashboard"})]}),e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-green-500",children:""}),e.jsx("span",{children:"Assign mentors"})]}),e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-green-500",children:""}),e.jsx("span",{children:"Approve requests"})]}),e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-green-500",children:""}),e.jsx("span",{children:"Performance reports"})]}),e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-green-500",children:""}),e.jsx("span",{children:"Manage users"})]})]}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-4",children:e.jsx("p",{className:"text-sm text-yellow-800 text-center",children:"Admin access is restricted. Contact system administrator."})}),e.jsxs(K,{to:"/login",className:"block w-full bg-gradient-to-r from-red-500 to-orange-600 text-white py-3 rounded-lg font-semibold hover:from-red-600 hover:to-orange-700 transition-all text-center flex items-center justify-center space-x-2",children:[e.jsx("span",{children:"Admin Login"}),e.jsx(ht,{className:"w-4 h-4"})]})]})]}),!t&&e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-white/80 mb-4",children:"Ready to get started?"}),e.jsx(K,{to:"/login",className:"inline-block bg-white text-purple-600 px-6 sm:px-8 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-all text-sm sm:text-base",children:"Sign In to Your Account"})]}),t&&e.jsx("div",{className:"text-center",children:e.jsx(K,{to:t.role==="admin"?"/admin":t.role==="mentor"?"/mentor":"/dashboard",className:"inline-block bg-white text-purple-600 px-6 sm:px-8 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-all text-sm sm:text-base",children:"Go to Dashboard"})})]})})}const us={title:"",description:"",course:"",dueDate:"",maxMarks:100,assignedTo:[]};function kl({user:t,onLogout:s}){const[r,a]=h.useState([]),[n,o]=h.useState(!0),[l,i]=h.useState(!1),[c,m]=h.useState(us),[d,u]=h.useState([]),[b,y]=h.useState({}),[p,g]=h.useState({});h.useEffect(()=>{w(),(t==null?void 0:t.role)==="mentor"&&C()},[]);const w=async()=>{try{const v=await E.get("/assignment");a(v.data.assignments||[])}catch{N.error("Failed to load assignments")}finally{o(!1)}},C=async()=>{try{const v=await E.get("/mentor/my-mentees");u(v.data.mentees||[])}catch{N.error("Unable to fetch mentees")}},j=()=>{m(us)},f=v=>{m(T=>{const I=T.assignedTo.includes(v);return{...T,assignedTo:I?T.assignedTo.filter(U=>U!==v):[...T.assignedTo,v]}})},S=async v=>{var T,I;if(v.preventDefault(),(t==null?void 0:t.role)!=="mentor"){N.error("Only mentors can create assignments");return}try{await E.post("/assignment",{...c,maxMarks:Number(c.maxMarks)||100}),N.success("Assignment created successfully!"),i(!1),j(),w()}catch(U){N.error(((I=(T=U.response)==null?void 0:T.data)==null?void 0:I.message)||"Failed to create assignment")}},M=async v=>{var I,U;const T=b[v];if(!T){N.error("Please provide a file URL");return}try{await E.post(`/assignment/${v}/submit`,{fileUrl:T}),N.success("Assignment submitted successfully!"),y(R=>({...R,[v]:""})),w()}catch(R){N.error(((U=(I=R.response)==null?void 0:I.data)==null?void 0:U.message)||"Failed to submit assignment")}},A=async(v,T,I,U)=>{if(I==null||I===""){N.error("Please provide marks before grading");return}try{await E.patch(`/assignment/${v}/grade/${T}`,{marks:I,feedback:U}),N.success("Assignment graded successfully!"),g(R=>{const O=`${v}-${T}`,_={...R};return delete _[O],_}),w()}catch{N.error("Failed to grade assignment")}},P=h.useMemo(()=>r||[],[r]);return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-500 via-blue-500 to-indigo-600",children:[e.jsx(W,{user:t,onLogout:s}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-white mb-2",children:"Assignments"}),e.jsx("p",{className:"text-white/80",children:(t==null?void 0:t.role)==="mentor"?"Create personalised tasks and review submissions":"Manage your coursework and track mentor feedback"})]}),(t==null?void 0:t.role)==="mentor"&&e.jsxs("button",{onClick:()=>i(v=>!v),className:"bg-white text-purple-600 px-6 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-all flex items-center space-x-2 shadow-lg",children:[e.jsx(nt,{className:"w-5 h-5"}),e.jsx("span",{children:l?"Close":"New Assignment"})]})]}),l&&(t==null?void 0:t.role)==="mentor"&&e.jsxs("div",{className:"bg-white/95 backdrop-blur rounded-xl p-6 shadow-lg mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Create Assignment"}),e.jsxs("form",{onSubmit:S,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),e.jsx("input",{type:"text",required:!0,value:c.title,onChange:v=>m({...c,title:v.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Course"}),e.jsx("input",{type:"text",required:!0,value:c.course,onChange:v=>m({...c,course:v.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{value:c.description,onChange:v=>m({...c,description:v.target.value}),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Due Date"}),e.jsx("input",{type:"datetime-local",required:!0,value:c.dueDate,onChange:v=>m({...c,dueDate:v.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Marks"}),e.jsx("input",{type:"number",min:1,value:c.maxMarks,onChange:v=>m({...c,maxMarks:v.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]})]}),d.length>0?e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assign to Specific Students (optional)"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 max-h-44 overflow-y-auto p-3 border border-gray-200 rounded-lg bg-gray-50",children:d.map(v=>e.jsxs("label",{className:"flex items-center space-x-2 text-sm text-gray-700",children:[e.jsx("input",{type:"checkbox",className:"rounded text-purple-600 focus:ring-purple-500",checked:c.assignedTo.includes(v._id),onChange:()=>f(v._id)}),e.jsxs("span",{className:"truncate",children:[v.name,e.jsxs("span",{className:"text-gray-400",children:[" (",v.userId,")"]})]})]},v._id))}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Leave empty to assign this task to all students."})]}):e.jsxs("div",{className:"flex items-center gap-3 p-4 border border-dashed border-purple-300 rounded-lg bg-purple-50 text-sm text-purple-700",children:[e.jsx($n,{className:"w-4 h-4"}),e.jsx("span",{children:"No mentees available. Assign students to target this task."})]}),e.jsxs("div",{className:"flex flex-col md:flex-row md:space-x-4 space-y-3 md:space-y-0",children:[e.jsx("button",{type:"submit",className:"flex-1 bg-gradient-to-r from-purple-500 to-blue-600 text-white py-3 rounded-lg font-semibold hover:from-purple-600 hover:to-blue-700 transition-all",children:"Create Assignment"}),e.jsx("button",{type:"button",onClick:()=>{j(),i(!1)},className:"flex-1 bg-gray-200 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-300 transition-all",children:"Cancel"})]})]})]}),n?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white"})}):P.length===0?e.jsxs("div",{className:"bg-white/90 backdrop-blur rounded-xl p-12 text-center shadow-lg",children:[e.jsx(ge,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"No Assignments"}),e.jsx("p",{className:"text-gray-600",children:"No assignments available yet"})]}):e.jsx("div",{className:"space-y-6",children:P.map(v=>{var U;const T=(t==null?void 0:t.role)==="student"?(U=v.submissions)==null?void 0:U.find(R=>{var O;return((O=R.student)==null?void 0:O.userId)===(t==null?void 0:t.userId)}):null,I=new Date(v.dueDate)<new Date;return e.jsxs("div",{className:"bg-white/95 backdrop-blur rounded-xl p-6 shadow-lg",children:[e.jsx("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-3",children:[e.jsx(ge,{className:"w-6 h-6 text-purple-600"}),e.jsx("h3",{className:"text-xl font-bold text-gray-800",children:v.title}),I&&e.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-700 text-xs rounded-full",children:"Past Due"})]}),v.description&&e.jsx("p",{className:"text-gray-600 mb-3 whitespace-pre-line",children:v.description}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600",children:[e.jsxs("span",{className:"font-semibold",children:["Course: ",v.course]}),e.jsxs("span",{children:["Due: ",new Date(v.dueDate).toLocaleString()]}),e.jsxs("span",{children:["Max Marks: ",v.maxMarks]})]}),(t==null?void 0:t.role)==="mentor"&&e.jsx("div",{className:"mt-3 text-xs text-gray-500",children:Array.isArray(v.assignedTo)&&v.assignedTo.length>0?e.jsxs("span",{children:["Assigned to: ",v.assignedTo.map(R=>typeof R=="string"?R:(R==null?void 0:R.name)||(R==null?void 0:R.userId)).join(", ")]}):e.jsx("span",{children:"Assigned to all students"})})]})}),(t==null?void 0:t.role)==="student"&&e.jsx("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:T?e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Your Submission"}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold break-all",children:T.fileUrl}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Submitted: ",new Date(T.submittedAt).toLocaleString()]}),T.status==="graded"&&e.jsxs("p",{className:"text-sm text-green-600 font-semibold mt-1",children:["Marks: ",T.marks,"/",v.maxMarks]}),T.feedback&&e.jsxs("p",{className:"text-sm text-gray-700 mt-1",children:["Feedback: ",T.feedback]})]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${T.status==="graded"?"bg-green-100 text-green-700":T.status==="late"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:T.status})]})]}):e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Submit Assignment"}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:space-x-2 space-y-2 sm:space-y-0",children:[e.jsx("input",{type:"text",placeholder:"Enter file URL",value:b[v._id]||"",onChange:R=>y(O=>({...O,[v._id]:R.target.value})),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"}),e.jsxs("button",{onClick:()=>M(v._id),className:"bg-gradient-to-r from-purple-500 to-blue-600 text-white px-6 py-2 rounded-lg font-semibold hover:from-purple-600 hover:to-blue-700 transition-all flex items-center space-x-2",children:[e.jsx(tl,{className:"w-4 h-4"}),e.jsx("span",{children:"Submit"})]})]})]})}),(t==null?void 0:t.role)==="mentor"&&v.submissions&&v.submissions.length>0&&e.jsxs("div",{className:"mt-6",children:[e.jsxs("h4",{className:"font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[e.jsx(Mt,{className:"w-4 h-4 text-purple-600"}),"Submissions (",v.submissions.length,")"]}),e.jsx("div",{className:"space-y-3",children:v.submissions.map(R=>{var z;const O=`${v._id}-${R._id}`,_=p[O]||{};return e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-800",children:((z=R.student)==null?void 0:z.name)||"Unknown student"}),e.jsx("p",{className:"text-sm text-gray-600 break-all",children:R.fileUrl}),e.jsx("p",{className:"text-xs text-gray-500",children:new Date(R.submittedAt).toLocaleString()})]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${R.status==="graded"?"bg-green-100 text-green-700":R.status==="late"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:R.status})]}),R.status!=="graded"?e.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row sm:items-center sm:space-x-2 space-y-2 sm:space-y-0",children:[e.jsx("input",{type:"number",placeholder:"Marks",value:_.marks||"",max:v.maxMarks,min:0,onChange:$=>g(se=>({...se,[O]:{..._,marks:$.target.value}})),className:"w-full sm:w-24 px-3 py-2 border border-gray-300 rounded-lg"}),e.jsx("input",{type:"text",placeholder:"Feedback (optional)",value:_.feedback||"",onChange:$=>g(se=>({...se,[O]:{..._,feedback:$.target.value}})),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg"}),e.jsx("button",{onClick:()=>A(v._id,R._id,_.marks,_.feedback),className:"bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-all",children:"Grade"})]}):e.jsxs("div",{className:"mt-3 text-sm text-gray-700 space-y-1",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-semibold",children:"Marks:"})," ",R.marks,"/",v.maxMarks]}),R.feedback&&e.jsxs("p",{children:[e.jsx("span",{className:"font-semibold",children:"Feedback:"})," ",R.feedback]})]})]},R._id)})})]})]},v._id)})})]})]})}function Sl({user:t,onLogout:s}){const[r,a]=h.useState([]),[n,o]=h.useState(null),[l,i]=h.useState(!0),[c,m]=h.useState(!1),[d,u]=h.useState({date:"",time:"",duration:60,topic:"",location:"Online"});h.useEffect(()=>{b(),(t==null?void 0:t.role)==="student"&&y()},[]);const b=async()=>{try{const j=await E.get("/session");a(j.data.sessions||[])}catch{N.error("Failed to load sessions")}finally{i(!1)}},y=async()=>{var j;try{const f=await E.get("/mentor/my-mentor");(j=f.data)!=null&&j.mentor?o(f.data.mentor):o(null)}catch{o(null)}},p=async j=>{var f,S;if(j.preventDefault(),!(n!=null&&n._id)){N.error("You need to have a mentor assigned first");return}try{await E.post("/session",{...d,mentorId:n._id}),N.success("Session scheduled successfully!"),m(!1),u({date:"",time:"",duration:60,topic:"",location:"Online"}),b()}catch(M){N.error(((S=(f=M.response)==null?void 0:f.data)==null?void 0:S.message)||"Failed to schedule session")}},g=async(j,f,S="")=>{try{await E.patch(`/session/${j}/status`,{status:f,notes:S}),N.success("Session updated successfully!"),b()}catch{N.error("Failed to update session")}},w=async j=>{var f,S;try{await E.post(`/session/${j}/accept`),N.success("Session request accepted"),b()}catch(M){N.error(((S=(f=M.response)==null?void 0:f.data)==null?void 0:S.message)||"Failed to accept session")}},C=async j=>{var S,M;const f=window.prompt("Optional note for the student:")||"";try{await E.post(`/session/${j}/reject`,f?{notes:f}:{}),N.success("Session request rejected"),b()}catch(A){N.error(((M=(S=A.response)==null?void 0:S.data)==null?void 0:M.message)||"Failed to reject session")}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-500 via-blue-500 to-indigo-600",children:[e.jsx(W,{user:t,onLogout:s}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Mentor Sessions"}),e.jsx("p",{className:"text-white/80",children:(t==null?void 0:t.role)==="student"?"Schedule sessions with your mentor":"Manage sessions with your mentees"})]}),(t==null?void 0:t.role)==="student"&&n&&e.jsxs("button",{onClick:()=>m(!c),className:"bg-white text-purple-600 px-6 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-all flex items-center space-x-2 shadow-lg",children:[e.jsx(nt,{className:"w-5 h-5"}),e.jsx("span",{children:"Schedule Session"})]})]}),c&&(t==null?void 0:t.role)==="student"&&e.jsxs("div",{className:"bg-white/90 backdrop-blur rounded-xl p-6 shadow-lg mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Schedule New Session"}),e.jsxs("form",{onSubmit:p,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),e.jsx("input",{type:"date",required:!0,value:d.date,onChange:j=>u({...d,date:j.target.value}),min:new Date().toISOString().split("T")[0],className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time"}),e.jsx("input",{type:"time",required:!0,value:d.time,onChange:j=>u({...d,time:j.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration (minutes)"}),e.jsx("input",{type:"number",value:d.duration,onChange:j=>u({...d,duration:j.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),e.jsx("input",{type:"text",value:d.location,onChange:j=>u({...d,location:j.target.value}),placeholder:"Online or physical location",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Topic"}),e.jsx("input",{type:"text",value:d.topic,onChange:j=>u({...d,topic:j.target.value}),placeholder:"What would you like to discuss?",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{type:"submit",className:"flex-1 bg-gradient-to-r from-purple-500 to-blue-600 text-white py-3 rounded-lg font-semibold hover:from-purple-600 hover:to-blue-700 transition-all",children:"Schedule Session"}),e.jsx("button",{type:"button",onClick:()=>m(!1),className:"flex-1 bg-gray-200 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-300 transition-all",children:"Cancel"})]})]})]}),l?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white"})}):r.length===0?e.jsxs("div",{className:"bg-white/90 backdrop-blur rounded-xl p-12 text-center shadow-lg",children:[e.jsx(J,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"No Sessions"}),e.jsx("p",{className:"text-gray-600",children:(t==null?void 0:t.role)==="student"?"Schedule your first session with your mentor":"No sessions scheduled yet"})]}):e.jsx("div",{className:"space-y-4",children:r.map(j=>{var f,S;return e.jsx("div",{className:"bg-white/90 backdrop-blur rounded-xl p-6 shadow-lg",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx(J,{className:"w-5 h-5 text-purple-600"}),e.jsx("h3",{className:"text-lg font-bold text-gray-800",children:(t==null?void 0:t.role)==="student"?`Session with ${((f=j.mentor)==null?void 0:f.name)||"Mentor"}`:`Session with ${((S=j.student)==null?void 0:S.name)||"Student"}`}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${j.status==="completed"?"bg-green-100 text-green-700":j.status==="cancelled"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:j.status})]}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ue,{className:"w-4 h-4"}),e.jsxs("span",{children:[new Date(j.date).toLocaleDateString()," at ",j.time]}),e.jsxs("span",{children:["(",j.duration," minutes)"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ke,{className:"w-4 h-4"}),e.jsx("span",{children:j.location})]}),j.topic&&e.jsxs("p",{className:"text-gray-800",children:[e.jsx("span",{className:"font-semibold",children:"Topic:"})," ",j.topic]}),j.status==="requested"&&(t==null?void 0:t.role)==="student"&&e.jsx("p",{className:"text-sm text-yellow-700 bg-yellow-50 border border-yellow-200 px-3 py-2 rounded-lg",children:"Waiting for mentor approval"}),j.notes&&e.jsxs("p",{className:"text-gray-800",children:[e.jsx("span",{className:"font-semibold",children:"Notes:"})," ",j.notes]})]})]}),(j.status==="requested"||j.status==="scheduled")&&e.jsxs("div",{className:"flex space-x-2 ml-4",children:[(t==null?void 0:t.role)==="mentor"&&j.status==="requested"&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>w(j._id),className:"bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-all flex items-center space-x-2",children:[e.jsx(fe,{className:"w-4 h-4"}),e.jsx("span",{children:"Accept"})]}),e.jsxs("button",{onClick:()=>C(j._id),className:"bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-all flex items-center space-x-2",children:[e.jsx(we,{className:"w-4 h-4"}),e.jsx("span",{children:"Reject"})]})]}),(t==null?void 0:t.role)==="mentor"&&j.status==="scheduled"&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>{const M=prompt("Session notes:");g(j._id,"completed",M)},className:"bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-all flex items-center space-x-2",children:[e.jsx(fe,{className:"w-4 h-4"}),e.jsx("span",{children:"Complete"})]}),e.jsxs("button",{onClick:()=>g(j._id,"cancelled"),className:"bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-all flex items-center space-x-2",children:[e.jsx(we,{className:"w-4 h-4"}),e.jsx("span",{children:"Cancel"})]})]}),(t==null?void 0:t.role)==="student"&&j.status==="scheduled"&&e.jsxs("button",{onClick:()=>g(j._id,"cancelled"),className:"bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-all flex items-center space-x-2",children:[e.jsx(we,{className:"w-4 h-4"}),e.jsx("span",{children:"Cancel"})]})]})]})},j._id)})})]})]})}function Cl({user:t,onLogout:s}){const[r,a]=h.useState([]),[n,o]=h.useState([]),[l,i]=h.useState([]),[c,m]=h.useState({totalMentees:0,totalAssignments:0,pendingGradings:0,upcomingSessions:0}),[d,u]=h.useState(!0),[b,y]=h.useState({title:"",body:"",mentees:[]}),[p,g]=h.useState(!1);h.useEffect(()=>{w()},[]);const w=async()=>{var f,S,M,A;try{const[P,v,T]=await Promise.all([E.get("/mentor/my-mentees"),E.get("/assignment"),E.get("/session")]);a(P.data.mentees||[]),o(v.data.assignments||[]),i(T.data.sessions||[]);const I=((f=v.data.assignments)==null?void 0:f.reduce((R,O)=>{var _;return R+(((_=O.submissions)==null?void 0:_.filter(z=>z.status!=="graded").length)||0)},0))||0,U=((S=T.data.sessions)==null?void 0:S.filter(R=>R.status==="scheduled"&&new Date(R.date)>=new Date).length)||0;m({totalMentees:((M=P.data.mentees)==null?void 0:M.length)||0,totalAssignments:((A=v.data.assignments)==null?void 0:A.length)||0,pendingGradings:I,upcomingSessions:U})}catch{N.error("Failed to load dashboard data")}finally{u(!1)}},C=f=>{y(S=>{const M=S.mentees.includes(f);return{...S,mentees:M?S.mentees.filter(A=>A!==f):[...S.mentees,f]}})},j=async f=>{var S,M;if(f.preventDefault(),!b.title||!b.body){N.error("Title and message are required");return}g(!0);try{await E.post("/notification/mentor-message",{title:b.title,body:b.body,studentIds:b.mentees}),N.success("Notification sent to mentees"),y({title:"",body:"",mentees:[]})}catch(A){N.error(((M=(S=A.response)==null?void 0:S.data)==null?void 0:M.message)||"Failed to send notification")}finally{g(!1)}};return d?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-500 via-blue-500 to-indigo-600",children:[e.jsx(W,{user:t,onLogout:s}),e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white"})})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-500 via-blue-500 to-indigo-600",children:[e.jsx(W,{user:t,onLogout:s}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Mentor Dashboard"}),e.jsxs("p",{className:"text-white/80",children:["Welcome back, ",t==null?void 0:t.name,"! Manage your mentees and activities"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white/90 backdrop-blur rounded-xl p-6 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Total Mentees"}),e.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:c.totalMentees})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(ve,{className:"w-6 h-6 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white/90 backdrop-blur rounded-xl p-6 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Assignments"}),e.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:c.totalAssignments})]}),e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx(ge,{className:"w-6 h-6 text-purple-600"})})]})}),e.jsx("div",{className:"bg-white/90 backdrop-blur rounded-xl p-6 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Pending Gradings"}),e.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:c.pendingGradings})]}),e.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:e.jsx(Ue,{className:"w-6 h-6 text-yellow-600"})})]})}),e.jsx("div",{className:"bg-white/90 backdrop-blur rounded-xl p-6 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Upcoming Sessions"}),e.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:c.upcomingSessions})]}),e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(J,{className:"w-6 h-6 text-green-600"})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsx(K,{to:"/assignments",className:"bg-white/90 backdrop-blur rounded-xl p-6 shadow-lg hover:bg-white transition-all",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx(ge,{className:"w-6 h-6 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-800",children:"Manage Assignments"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Create and grade assignments"})]})]})}),e.jsx(K,{to:"/sessions",className:"bg-white/90 backdrop-blur rounded-xl p-6 shadow-lg hover:bg-white transition-all",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(J,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-800",children:"View Sessions"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Manage mentor sessions"})]})]})}),e.jsx(K,{to:"/mentor",className:"bg-white/90 backdrop-blur rounded-xl p-6 shadow-lg hover:bg-white transition-all",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(ve,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-800",children:"My Mentees"}),e.jsx("p",{className:"text-sm text-gray-600",children:"View all assigned students"})]})]})})]}),r.length>0&&e.jsxs("div",{className:"bg-white/90 backdrop-blur rounded-xl p-6 shadow-lg mb-8",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Notify Mentees"}),e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),e.jsx("input",{type:"text",required:!0,value:b.title,onChange:f=>y({...b,title:f.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Mentees"}),e.jsx("div",{className:"max-h-32 overflow-y-auto border border-gray-200 rounded-lg p-3 bg-gray-50",children:r.map(f=>e.jsxs("label",{className:"flex items-center space-x-2 text-sm text-gray-700 mb-1",children:[e.jsx("input",{type:"checkbox",className:"rounded text-purple-600 focus:ring-purple-500",checked:b.mentees.includes(f.userId),onChange:()=>C(f.userId)}),e.jsxs("span",{className:"truncate",children:[f.name," ",e.jsxs("span",{className:"text-gray-400",children:["(",f.userId,")"]})]})]},f._id||f.userId))}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave all unchecked to notify every mentee."})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message"}),e.jsx("textarea",{rows:4,required:!0,value:b.body,onChange:f=>y({...b,body:f.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",placeholder:"Share updates, reminders, or feedback"})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",disabled:p,className:"bg-gradient-to-r from-purple-500 to-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:from-purple-600 hover:to-blue-700 transition-all disabled:opacity-60",children:p?"Sending...":"Send Notification"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white/90 backdrop-blur rounded-xl p-6 shadow-lg",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Upcoming Sessions"}),l.filter(f=>f.status==="scheduled"&&new Date(f.date)>=new Date).length===0?e.jsx("p",{className:"text-gray-600",children:"No upcoming sessions"}):e.jsx("div",{className:"space-y-3",children:l.filter(f=>f.status==="scheduled"&&new Date(f.date)>=new Date).slice(0,5).map(f=>{var S;return e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"font-semibold text-gray-800",children:(S=f.student)==null?void 0:S.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:[new Date(f.date).toLocaleDateString()," at ",f.time]}),f.topic&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Topic: ",f.topic]})]},f._id)})})]}),e.jsxs("div",{className:"bg-white/90 backdrop-blur rounded-xl p-6 shadow-lg",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Pending Gradings"}),c.pendingGradings===0?e.jsx("p",{className:"text-gray-600",children:"No pending gradings"}):e.jsx("div",{className:"space-y-3",children:n.flatMap(f=>(f.submissions||[]).filter(S=>S.status!=="graded").map(S=>({assignment:f,submission:S}))).slice(0,5).map((f,S)=>{var M;return e.jsxs("div",{className:"p-3 bg-yellow-50 rounded-lg",children:[e.jsx("p",{className:"font-semibold text-gray-800",children:f.assignment.title}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Student: ",((M=f.submission.student)==null?void 0:M.name)||"Unknown"]}),e.jsx(K,{to:"/assignments",className:"text-xs text-purple-600 hover:text-purple-700 mt-1 inline-block",children:"Grade now "})]},S)})})]})]})]})]})}function El({user:t,onLogout:s}){var c,m,d,u;const{studentId:r}=nr(),[a,n]=h.useState(null),[o,l]=h.useState(!0);h.useEffect(()=>{r&&i()},[r]);const i=async()=>{try{const b=await E.get(`/admin/student-performance/${r}`);n(b.data)}catch{N.error("Failed to load performance data")}finally{l(!1)}};return o?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-500 via-blue-500 to-indigo-600",children:[e.jsx(W,{user:t,onLogout:s}),e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white"})})]}):a?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-500 via-blue-500 to-indigo-600",children:[e.jsx(W,{user:t,onLogout:s}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("h1",{className:"text-4xl font-bold text-white mb-2",children:["Performance Report: ",a.student.name]}),e.jsxs("p",{className:"text-white/80",children:["Student ID: ",a.student.userId]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white/90 backdrop-blur rounded-xl p-6 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Total Engagements"}),e.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:a.performance.totalEngagements})]}),e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx(Dt,{className:"w-6 h-6 text-purple-600"})})]})}),e.jsx("div",{className:"bg-white/90 backdrop-blur rounded-xl p-6 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Check-ins"}),e.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:a.performance.totalCheckIns})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(fe,{className:"w-6 h-6 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white/90 backdrop-blur rounded-xl p-6 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Assignments"}),e.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:a.performance.assignmentsSubmitted})]}),e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(ge,{className:"w-6 h-6 text-green-600"})})]})}),e.jsx("div",{className:"bg-white/90 backdrop-blur rounded-xl p-6 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Sessions"}),e.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:a.performance.sessionsCompleted})]}),e.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:e.jsx(J,{className:"w-6 h-6 text-orange-600"})})]})})]}),e.jsxs("div",{className:"bg-white/90 backdrop-blur rounded-xl p-6 shadow-lg",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Student Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"College"}),e.jsx("p",{className:"font-semibold text-gray-800",children:((c=a.student.profile)==null?void 0:c.college)||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Year"}),e.jsx("p",{className:"font-semibold text-gray-800",children:((m=a.student.profile)==null?void 0:m.year)||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Home Town"}),e.jsx("p",{className:"font-semibold text-gray-800",children:((d=a.student.profile)==null?void 0:d.homeTown)||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Commuting"}),e.jsx("p",{className:"font-semibold text-gray-800",children:(u=a.student.profile)!=null&&u.commuting?"Yes":"No"})]})]})]})]})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-500 via-blue-500 to-indigo-600",children:[e.jsx(W,{user:t,onLogout:s}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsx("div",{className:"bg-white/90 backdrop-blur rounded-xl p-12 text-center shadow-lg",children:e.jsx("p",{className:"text-gray-600",children:"Student not found"})})})]})}function re({children:t,requiredRole:s}){const[r,a]=h.useState(null),[n,o]=h.useState(!0);return h.useEffect(()=>{const l=localStorage.getItem("user");if(!localStorage.getItem("token")||!l){o(!1);return}try{const c=JSON.parse(l);if(a(c),s&&c.role!==s){o(!1);return}}catch{localStorage.removeItem("user"),localStorage.removeItem("token")}o(!1)},[s]),n?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-500 to-blue-600",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white"})}):r?s&&r.role!==s?e.jsx(de,{to:"/dashboard"}):t:e.jsx(de,{to:"/login"})}function Rl(){const[t,s]=h.useState(null),[r,a]=h.useState(!0),n=i=>i==="admin"?"/admin":i==="mentor"?"/mentor":"/dashboard";h.useEffect(()=>{const i=localStorage.getItem("user");if(i)try{s(JSON.parse(i))}catch{localStorage.removeItem("user"),localStorage.removeItem("token")}a(!1)},[]);const o=(i,c)=>{s(i),localStorage.setItem("user",JSON.stringify(i)),localStorage.setItem("token",c)},l=()=>{s(null),localStorage.removeItem("user"),localStorage.removeItem("token"),window.location.href="/landing"};return r?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white"})}):e.jsx(lr,{children:e.jsxs("div",{className:"min-h-screen",children:[e.jsx(la,{position:"top-right"}),e.jsxs(or,{children:[e.jsx(Z,{path:"/landing",element:e.jsx(vl,{})}),e.jsx(Z,{path:"/login",element:t?e.jsx(de,{to:n(t.role),replace:!0}):e.jsx(ol,{onLogin:o})}),e.jsx(Z,{path:"/register",element:t?e.jsx(de,{to:n(t.role),replace:!0}):e.jsx(il,{onLogin:o})}),e.jsx(Z,{path:"/dashboard",element:e.jsx(re,{children:(t==null?void 0:t.role)==="admin"?e.jsx(de,{to:"/admin",replace:!0}):(t==null?void 0:t.role)==="mentor"?e.jsx(de,{to:"/mentor",replace:!0}):e.jsx(xl,{user:t,onLogout:l})})}),e.jsx(Z,{path:"/bookings",element:e.jsx(re,{children:e.jsx(pl,{user:t,onLogout:l})})}),e.jsx(Z,{path:"/mentor",element:e.jsx(re,{children:(t==null?void 0:t.role)==="mentor"?e.jsx(Cl,{user:t,onLogout:l}):(t==null?void 0:t.role)==="student"?e.jsx(fl,{user:t,onLogout:l}):e.jsx(de,{to:n(t.role),replace:!0})})}),e.jsx(Z,{path:"/notifications",element:e.jsx(re,{children:e.jsx(bl,{user:t,onLogout:l})})}),e.jsx(Z,{path:"/admin",element:e.jsx(re,{requiredRole:"admin",children:e.jsx(yl,{user:t,onLogout:l})})}),e.jsx(Z,{path:"/clubs",element:e.jsx(re,{children:e.jsx(jl,{user:t,onLogout:l})})}),e.jsx(Z,{path:"/holidays",element:e.jsx(re,{children:e.jsx(wl,{user:t,onLogout:l})})}),e.jsx(Z,{path:"/profile",element:e.jsx(re,{children:e.jsx(Nl,{user:t,onLogout:l})})}),e.jsx(Z,{path:"/assignments",element:e.jsx(re,{children:e.jsx(kl,{user:t,onLogout:l})})}),e.jsx(Z,{path:"/sessions",element:e.jsx(re,{children:e.jsx(Sl,{user:t,onLogout:l})})}),e.jsx(Z,{path:"/admin/student-performance/:studentId",element:e.jsx(re,{requiredRole:"admin",children:e.jsx(El,{user:t,onLogout:l})})}),e.jsx(Z,{path:"/",element:t?e.jsx(de,{to:n(t.role),replace:!0}):e.jsx(de,{to:"/landing",replace:!0})})]})]})})}gt.createRoot(document.getElementById("root")).render(e.jsx(he.StrictMode,{children:e.jsx(Rl,{})}));
